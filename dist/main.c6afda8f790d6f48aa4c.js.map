{"version":3,"file":"main.c6afda8f790d6f48aa4c.js","mappings":"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","sources":["webpack://se-tailoring-framework/./js/components/export.js","webpack://se-tailoring-framework/./js/components/assessment.js","webpack://se-tailoring-framework/./js/components/recommendations.js","webpack://se-tailoring-framework/./js/components/visualization.js","webpack://se-tailoring-framework/webpack/bootstrap","webpack://se-tailoring-framework/webpack/runtime/compat get default export","webpack://se-tailoring-framework/webpack/runtime/define property getters","webpack://se-tailoring-framework/webpack/runtime/hasOwnProperty shorthand","webpack://se-tailoring-framework/./js/app.js"],"sourcesContent":["/**\n * Export Manager Component\n * Handles PDF reports, JSON configuration, and Excel analytics export\n */\n\nclass ExportManager {\n  constructor(app) {\n    this.app = app;\n  }\n\n  render() {\n    const container = document.getElementById('export-content');\n    if (!container) return;\n\n    const assessmentData = this.app.getAssessmentData();\n    const hasData = assessmentData.recommendations && Object.keys(assessmentData.recommendations).length > 0;\n\n    if (!hasData) {\n      this.renderNoData(container);\n      return;\n    }\n\n    this.renderExportOptions(container, assessmentData);\n  }\n\n  renderNoData(container) {\n    container.innerHTML = `\n            <div class=\"text-center py-5\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <i class=\"bi bi-exclamation-circle display-1 text-warning mb-3\"></i>\n                        <h3>No Data to Export</h3>\n                        <p class=\"text-muted mb-4\">\n                            Complete the assessment first to generate exportable recommendations and reports.\n                        </p>\n                        <button class=\"btn btn-primary\" onclick=\"window.seApp.showView('assessment')\">\n                            <i class=\"bi bi-clipboard-check\"></i>\n                            Start Assessment\n                        </button>\n                    </div>\n                </div>\n            </div>\n        `;\n  }\n\n  renderExportOptions(container, assessmentData) {\n    const stats = this.calculateExportStats(assessmentData);\n\n    container.innerHTML = `\n            <div class=\"card shadow-sm mb-4\">\n                <div class=\"card-header bg-gradient-primary text-white\">\n                    <h4 class=\"card-title mb-0\">\n                        <i class=\"bi bi-download\"></i>\n                        Export Reports & Data\n                    </h4>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"alert alert-info\">\n                        <i class=\"bi bi-info-circle me-2\"></i>\n                        <strong>Ready to Export:</strong> Your assessment contains ${stats.totalProcesses} process recommendations \n                        with ${stats.totalQuestions} assessment responses across ${stats.categories} categories.\n                    </div>\n                    \n                    <div class=\"row mb-4\">\n                        <div class=\"col-md-3 text-center\">\n                            <div class=\"stat-card\">\n                                <span class=\"stat-number text-primary\">${stats.totalProcesses}</span>\n                                <span class=\"stat-label\">Process Recommendations</span>\n                            </div>\n                        </div>\n                        <div class=\"col-md-3 text-center\">\n                            <div class=\"stat-card\">\n                                <span class=\"stat-number text-success\">${stats.averageConfidence}%</span>\n                                <span class=\"stat-label\">Average Confidence</span>\n                            </div>\n                        </div>\n                        <div class=\"col-md-3 text-center\">\n                            <div class=\"stat-card\">\n                                <span class=\"stat-number text-warning\">${stats.totalEffort}</span>\n                                <span class=\"stat-label\">Total Effort Score</span>\n                            </div>\n                        </div>\n                        <div class=\"col-md-3 text-center\">\n                            <div class=\"stat-card\">\n                                <span class=\"stat-number text-info\">${stats.dependencies}</span>\n                                <span class=\"stat-label\">Dependencies</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-lg-4 mb-4\">\n                    <div class=\"export-option\" data-export-type=\"pdf\">\n                        <div class=\"export-icon\">\n                            <i class=\"bi bi-file-earmark-pdf-fill\"></i>\n                        </div>\n                        <h5 class=\"export-title\">Professional PDF Report</h5>\n                        <p class=\"export-description\">\n                            Comprehensive report with executive summary, detailed recommendations, \n                            process network visualization, and implementation roadmap.\n                        </p>\n                        <button class=\"btn btn-primary\" id=\"export-pdf-btn\">\n                            <i class=\"bi bi-download\"></i>\n                            Download PDF\n                        </button>\n                    </div>\n                </div>\n                \n                <div class=\"col-lg-4 mb-4\">\n                    <div class=\"export-option\" data-export-type=\"json\">\n                        <div class=\"export-icon\">\n                            <i class=\"bi bi-file-earmark-code-fill\"></i>\n                        </div>\n                        <h5 class=\"export-title\">JSON Configuration</h5>\n                        <p class=\"export-description\">\n                            Machine-readable format containing assessment data, scores, and recommendations \n                            for integration with other tools and systems.\n                        </p>\n                        <button class=\"btn btn-outline-primary\" id=\"export-json-btn\">\n                            <i class=\"bi bi-download\"></i>\n                            Download JSON\n                        </button>\n                    </div>\n                </div>\n                \n                <div class=\"col-lg-4 mb-4\">\n                    <div class=\"export-option\" data-export-type=\"excel\">\n                        <div class=\"export-icon\">\n                            <i class=\"bi bi-file-earmark-spreadsheet-fill\"></i>\n                        </div>\n                        <h5 class=\"export-title\">Excel Analytics</h5>\n                        <p class=\"export-description\">\n                            Spreadsheet format with assessment responses, process recommendations, \n                            effort calculations, and pivot tables for further analysis.\n                        </p>\n                        <button class=\"btn btn-outline-success\" id=\"export-excel-btn\">\n                            <i class=\"bi bi-download\"></i>\n                            Download Excel\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    <h6 class=\"card-title mb-0\">\n                        <i class=\"bi bi-gear\"></i>\n                        Export Options\n                    </h6>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <div class=\"form-check\">\n                                <input class=\"form-check-input\" type=\"checkbox\" id=\"include-assessment-details\" checked>\n                                <label class=\"form-check-label\" for=\"include-assessment-details\">\n                                    Include detailed assessment responses\n                                </label>\n                            </div>\n                            <div class=\"form-check\">\n                                <input class=\"form-check-input\" type=\"checkbox\" id=\"include-rationale\" checked>\n                                <label class=\"form-check-label\" for=\"include-rationale\">\n                                    Include recommendation rationale\n                                </label>\n                            </div>\n                            <div class=\"form-check\">\n                                <input class=\"form-check-input\" type=\"checkbox\" id=\"include-dependencies\" checked>\n                                <label class=\"form-check-label\" for=\"include-dependencies\">\n                                    Include process dependencies\n                                </label>\n                            </div>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <div class=\"form-check\">\n                                <input class=\"form-check-input\" type=\"checkbox\" id=\"include-visualization\" checked>\n                                <label class=\"form-check-label\" for=\"include-visualization\">\n                                    Include process network visualization\n                                </label>\n                            </div>\n                            <div class=\"form-check\">\n                                <input class=\"form-check-input\" type=\"checkbox\" id=\"include-metadata\" checked>\n                                <label class=\"form-check-label\" for=\"include-metadata\">\n                                    Include metadata and timestamps\n                                </label>\n                            </div>\n                            <div class=\"form-check\">\n                                <input class=\"form-check-input\" type=\"checkbox\" id=\"include-implementation-guide\">\n                                <label class=\"form-check-label\" for=\"include-implementation-guide\">\n                                    Include implementation guidance\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"mt-4 text-center\">\n                <small class=\"text-muted\">\n                    <i class=\"bi bi-shield-check\"></i>\n                    All exports are generated locally in your browser. No data is sent to external servers.\n                </small>\n            </div>\n        `;\n\n    this.attachExportEventListeners();\n  }\n\n  calculateExportStats(assessmentData) {\n    const recommendations = assessmentData.recommendations || {};\n    const responses = assessmentData.responses || {};\n\n    const totalProcesses = Object.keys(recommendations).length;\n    const totalQuestions = Object.keys(responses).length;\n    const categories = new Set(Object.values(responses).map(r => r.dimension)).size;\n\n    const confidenceValues = Object.values(recommendations).map(r => r.confidence || 0);\n    const averageConfidence = confidenceValues.length > 0\n      ? Math.round(confidenceValues.reduce((sum, c) => sum + c, 0) / confidenceValues.length * 100)\n      : 0;\n\n    const totalEffort = Object.values(recommendations).reduce((sum, r) => sum + (r.effort || 0), 0);\n\n    const dependencies = Object.values(recommendations).reduce((sum, r) => sum + (r.dependencies?.length || 0), 0);\n\n    return {\n      totalProcesses,\n      totalQuestions,\n      categories,\n      averageConfidence,\n      totalEffort,\n      dependencies,\n    };\n  }\n\n  attachExportEventListeners() {\n    document.getElementById('export-pdf-btn')?.addEventListener('click', () => {\n      this.exportPDF();\n    });\n\n    document.getElementById('export-json-btn')?.addEventListener('click', () => {\n      this.exportJSON();\n    });\n\n    document.getElementById('export-excel-btn')?.addEventListener('click', () => {\n      this.exportExcel();\n    });\n\n    // Export option hover effects\n    document.querySelectorAll('.export-option').forEach(option => {\n      option.addEventListener('click', (e) => {\n        if (!e.target.closest('button')) {\n          const button = option.querySelector('button');\n          if (button) button.click();\n        }\n      });\n    });\n  }\n\n  getExportOptions() {\n    return {\n      includeAssessmentDetails: document.getElementById('include-assessment-details')?.checked ?? true,\n      includeRationale: document.getElementById('include-rationale')?.checked ?? true,\n      includeDependencies: document.getElementById('include-dependencies')?.checked ?? true,\n      includeVisualization: document.getElementById('include-visualization')?.checked ?? true,\n      includeMetadata: document.getElementById('include-metadata')?.checked ?? true,\n      includeImplementationGuide: document.getElementById('include-implementation-guide')?.checked ?? false,\n    };\n  }\n\n  async exportPDF() {\n    try {\n      this.showExportProgress('Generating PDF report...');\n\n      const assessmentData = this.app.getAssessmentData();\n      const options = this.getExportOptions();\n\n      // Initialize jsPDF\n      const { jsPDF } = window.jspdf;\n      const doc = new jsPDF();\n\n      let yPosition = 20;\n      const pageHeight = doc.internal.pageSize.height;\n      const marginBottom = 20;\n\n      // Helper function to add new page if needed\n      const checkNewPage = (neededSpace = 20) => {\n        if (yPosition + neededSpace > pageHeight - marginBottom) {\n          doc.addPage();\n          yPosition = 20;\n        }\n      };\n\n      // Title Page\n      doc.setFontSize(24);\n      doc.setTextColor(13, 110, 253);\n      doc.text('Systems Engineering Process', 20, yPosition);\n      yPosition += 10;\n      doc.text('Tailoring Report', 20, yPosition);\n      yPosition += 20;\n\n      doc.setFontSize(12);\n      doc.setTextColor(0, 0, 0);\n      doc.text(`Generated: ${new Date().toLocaleDateString()}`, 20, yPosition);\n      yPosition += 10;\n      doc.text('Based on ISO/IEC/IEEE 15288:2023', 20, yPosition);\n      yPosition += 30;\n\n      // Executive Summary\n      checkNewPage(40);\n      doc.setFontSize(16);\n      doc.setTextColor(13, 110, 253);\n      doc.text('Executive Summary', 20, yPosition);\n      yPosition += 15;\n\n      doc.setFontSize(10);\n      doc.setTextColor(0, 0, 0);\n\n      const scores = assessmentData.scores;\n      const summary = [\n        `Overall Assessment Score: ${scores.overall?.toFixed(1) || 'N/A'}/5.0`,\n        `Technical Complexity: ${scores.complexity?.toFixed(1) || 'N/A'}/5.0`,\n        `Safety Criticality: ${scores.safety?.toFixed(1) || 'N/A'}/5.0`,\n        `Project Scale: ${scores.scale?.toFixed(1) || 'N/A'}/5.0`,\n        `Organizational Maturity: ${scores.maturity?.toFixed(1) || 'N/A'}/5.0`,\n      ];\n\n      summary.forEach(line => {\n        checkNewPage();\n        doc.text(line, 20, yPosition);\n        yPosition += 6;\n      });\n\n      yPosition += 10;\n\n      // Process Recommendations\n      const recommendations = assessmentData.recommendations || {};\n      const levelCounts = this.getLevelCounts(recommendations);\n\n      const recSummary = [\n        `Total Processes Analyzed: ${Object.keys(recommendations).length}`,\n        `Basic Level Processes: ${levelCounts.basic}`,\n        `Standard Level Processes: ${levelCounts.standard}`,\n        `Comprehensive Level Processes: ${levelCounts.comprehensive}`,\n      ];\n\n      recSummary.forEach(line => {\n        checkNewPage();\n        doc.text(line, 20, yPosition);\n        yPosition += 6;\n      });\n\n      // Process Recommendations Section\n      checkNewPage(30);\n      yPosition += 10;\n      doc.setFontSize(16);\n      doc.setTextColor(13, 110, 253);\n      doc.text('Process Recommendations', 20, yPosition);\n      yPosition += 15;\n\n      // Group by category\n      const grouped = this.groupRecommendationsByCategory(recommendations);\n\n      Object.keys(grouped).forEach(category => {\n        checkNewPage(20);\n        doc.setFontSize(14);\n        doc.setTextColor(0, 0, 0);\n        const categoryName = this.app.processData.processCategories?.[category] || category;\n        doc.text(categoryName, 20, yPosition);\n        yPosition += 10;\n\n        grouped[category].forEach(process => {\n          checkNewPage(15);\n          doc.setFontSize(10);\n          doc.setTextColor(0, 0, 0);\n\n          const processLine = `${process.processName}: ${process.recommendedLevel.toUpperCase()}`;\n          doc.text(processLine, 25, yPosition);\n          yPosition += 5;\n\n          if (options.includeRationale && process.rationale) {\n            process.rationale.slice(0, 2).forEach(reason => {\n              checkNewPage();\n              const reasonText = `  • ${reason}`;\n              const splitText = doc.splitTextToSize(reasonText, 160);\n              splitText.forEach(line => {\n                doc.text(line, 30, yPosition);\n                yPosition += 4;\n              });\n            });\n          }\n          yPosition += 3;\n        });\n        yPosition += 5;\n      });\n\n      // Implementation Guidance\n      if (options.includeImplementationGuide) {\n        checkNewPage(30);\n        doc.setFontSize(16);\n        doc.setTextColor(13, 110, 253);\n        doc.text('Implementation Guidance', 20, yPosition);\n        yPosition += 15;\n\n        doc.setFontSize(10);\n        doc.setTextColor(0, 0, 0);\n\n        const guidance = [\n          '1. Begin with high-priority Technical Management processes',\n          '2. Implement processes in dependency order',\n          '3. Start with Basic level and mature gradually',\n          '4. Monitor effectiveness and adjust as needed',\n          '5. Regular reviews ensure continued alignment',\n        ];\n\n        guidance.forEach(item => {\n          checkNewPage();\n          doc.text(item, 20, yPosition);\n          yPosition += 6;\n        });\n      }\n\n      // Assessment Details\n      if (options.includeAssessmentDetails) {\n        checkNewPage(30);\n        doc.setFontSize(16);\n        doc.setTextColor(13, 110, 253);\n        doc.text('Assessment Details', 20, yPosition);\n        yPosition += 15;\n\n        const responses = assessmentData.responses || {};\n        const categories = this.app.questionData.assessmentCategories || [];\n\n        categories.forEach(category => {\n          checkNewPage(15);\n          doc.setFontSize(12);\n          doc.setTextColor(0, 0, 0);\n          doc.text(category.name, 20, yPosition);\n          yPosition += 8;\n\n          category.questions.forEach(question => {\n            const response = responses[question.id];\n            if (response) {\n              checkNewPage(12);\n              doc.setFontSize(9);\n              doc.text(`Q: ${question.text}`, 25, yPosition);\n              yPosition += 5;\n              doc.text(`A: ${response.label} (Score: ${response.score})`, 25, yPosition);\n              yPosition += 7;\n            }\n          });\n          yPosition += 5;\n        });\n      }\n\n      // Metadata\n      if (options.includeMetadata) {\n        checkNewPage(20);\n        doc.setFontSize(12);\n        doc.setTextColor(100, 100, 100);\n        doc.text('Report Metadata', 20, yPosition);\n        yPosition += 10;\n\n        doc.setFontSize(8);\n        const metadata = [\n          `Generated: ${new Date().toISOString()}`,\n          'Framework Version: 1.0.0',\n          'Standard: ISO/IEC/IEEE 15288:2023',\n          `Processes Analyzed: ${Object.keys(recommendations).length}`,\n          `Assessment Questions: ${Object.keys(assessmentData.responses || {}).length}`,\n        ];\n\n        metadata.forEach(line => {\n          doc.text(line, 20, yPosition);\n          yPosition += 4;\n        });\n      }\n\n      // Save the PDF\n      const fileName = `SE_Process_Tailoring_Report_${new Date().toISOString().split('T')[0]}.pdf`;\n      doc.save(fileName);\n\n      this.hideExportProgress();\n      this.app.showSuccess('PDF report downloaded successfully!');\n\n    } catch (error) {\n      // PDF export error\n      this.hideExportProgress();\n      this.app.showError('Failed to generate PDF report. Please try again.');\n    }\n  }\n\n  exportJSON() {\n    try {\n      const assessmentData = this.app.getAssessmentData();\n      const options = this.getExportOptions();\n\n      const exportData = {\n        metadata: {\n          generatedAt: new Date().toISOString(),\n          version: '1.0.0',\n          standard: 'ISO/IEC/IEEE 15288:2023',\n          frameworkVersion: '1.0.0',\n        },\n        assessmentScores: assessmentData.scores,\n        recommendations: assessmentData.recommendations,\n      };\n\n      if (options.includeAssessmentDetails) {\n        exportData.assessmentResponses = assessmentData.responses;\n      }\n\n      if (options.includeDependencies) {\n        exportData.dependencies = this.app.getDependencyData();\n      }\n\n      if (options.includeMetadata) {\n        exportData.processData = this.app.getProcessData();\n      }\n\n      const jsonString = JSON.stringify(exportData, null, 2);\n      const blob = new Blob([jsonString], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `SE_Process_Tailoring_Config_${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n\n      this.app.showSuccess('JSON configuration downloaded successfully!');\n\n    } catch (error) {\n      // JSON export error\n      this.app.showError('Failed to export JSON configuration. Please try again.');\n    }\n  }\n\n  exportExcel() {\n    try {\n      const assessmentData = this.app.getAssessmentData();\n      const options = this.getExportOptions();\n\n      // Create CSV content (simplified Excel export)\n      let csvContent = 'Process Name,Category,Recommended Level,Effort,Complexity,Confidence,Rationale\\n';\n\n      const recommendations = assessmentData.recommendations || {};\n      Object.values(recommendations).forEach(rec => {\n        const rationale = options.includeRationale\n          ? rec.rationale?.join('; ') || ''\n          : '';\n\n        csvContent += `\"${rec.processName}\",\"${rec.category}\",\"${rec.recommendedLevel}\",${rec.effort},${rec.complexity},${Math.round(rec.confidence * 100)},\"${rationale}\"\\n`;\n      });\n\n      // Add assessment data if requested\n      if (options.includeAssessmentDetails) {\n        csvContent += '\\n\\nAssessment Responses\\n';\n        csvContent += 'Question,Response,Score,Dimension\\n';\n\n        Object.values(assessmentData.responses || {}).forEach(response => {\n          csvContent += `\"${response.questionId}\",\"${response.label}\",${response.score},\"${response.dimension}\"\\n`;\n        });\n      }\n\n      const blob = new Blob([csvContent], { type: 'text/csv' });\n      const url = URL.createObjectURL(blob);\n\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `SE_Process_Tailoring_Analysis_${new Date().toISOString().split('T')[0]}.csv`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n\n      this.app.showSuccess('Excel/CSV file downloaded successfully!');\n\n    } catch (error) {\n      // Excel export error\n      this.app.showError('Failed to export Excel file. Please try again.');\n    }\n  }\n\n  showExportProgress(message) {\n    // Show loading state\n    const loadingHtml = `\n            <div class=\"text-center py-4\" id=\"export-progress\">\n                <div class=\"spinner-border text-primary mb-3\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div>\n                <p class=\"text-muted\">${message}</p>\n            </div>\n        `;\n\n    document.body.insertAdjacentHTML('beforeend', `\n            <div class=\"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-dark bg-opacity-50\" style=\"z-index: 9999;\" id=\"export-overlay\">\n                ${loadingHtml}\n            </div>\n        `);\n  }\n\n  hideExportProgress() {\n    const overlay = document.getElementById('export-overlay');\n    if (overlay) {\n      overlay.remove();\n    }\n  }\n\n  // Helper methods\n  getLevelCounts(recommendations) {\n    const counts = { basic: 0, standard: 0, comprehensive: 0 };\n    Object.values(recommendations).forEach(rec => {\n      counts[rec.recommendedLevel] = (counts[rec.recommendedLevel] || 0) + 1;\n    });\n    return counts;\n  }\n\n  groupRecommendationsByCategory(recommendations) {\n    const grouped = {};\n    Object.values(recommendations).forEach(rec => {\n      const category = rec.category || 'other';\n      if (!grouped[category]) {\n        grouped[category] = [];\n      }\n      grouped[category].push(rec);\n    });\n\n    // Sort within categories\n    Object.keys(grouped).forEach(category => {\n      grouped[category].sort((a, b) => a.processName.localeCompare(b.processName));\n    });\n\n    return grouped;\n  }\n}\n\n// Export for global access\nwindow.ExportManager = ExportManager;\n","/**\n * Assessment Engine Component\n * Manages the assessment interface, question rendering, and response collection\n */\n\nclass AssessmentEngine {\n  constructor(questionData, app) {\n    this.questionData = questionData;\n    this.app = app;\n    this.currentCategoryIndex = 0;\n    this.currentQuestionIndex = 0;\n    this.assessmentContainer = null;\n  }\n\n  render() {\n    this.assessmentContainer = document.getElementById('assessment-content');\n    if (!this.assessmentContainer) return;\n\n    this.renderAssessmentInterface();\n  }\n\n  renderAssessmentInterface() {\n    if (!this.questionData.assessmentCategories || this.questionData.assessmentCategories.length === 0) {\n      this.renderNoQuestions();\n      return;\n    }\n\n    // Clear container once at the beginning to prevent duplicate elements\n    this.assessmentContainer.innerHTML = '';\n    \n    this.renderProgressBar();\n    this.renderCurrentQuestion();\n    this.renderNavigation();\n  }\n\n  renderProgressBar() {\n    const progressContainer = document.createElement('div');\n    progressContainer.className = 'assessment-progress mb-4';\n\n    const totalQuestions = this.getTotalQuestions();\n    const answeredQuestions = Object.keys(this.app.assessmentResponses).length;\n    const progressPercentage = totalQuestions > 0 ? (answeredQuestions / totalQuestions) * 100 : 0;\n\n    progressContainer.innerHTML = `\n            <div class=\"d-flex justify-content-between align-items-center mb-2\">\n                <h6 class=\"mb-0\">Assessment Progress</h6>\n                <small class=\"text-muted\">${answeredQuestions}/${totalQuestions} questions answered</small>\n            </div>\n            <div class=\"progress\" style=\"height: 8px;\">\n                <div class=\"progress-bar\" role=\"progressbar\" \n                     style=\"width: ${progressPercentage}%\" \n                     aria-valuenow=\"${progressPercentage}\" \n                     aria-valuemin=\"0\" \n                     aria-valuemax=\"100\">\n                </div>\n            </div>\n            <div class=\"mt-2\">\n                <small class=\"text-muted\">\n                    ${this.getCurrentCategory()?.name || 'No category'} \n                    (${this.currentQuestionIndex + 1}/${this.getCurrentCategory()?.questions?.length || 0})\n                </small>\n            </div>\n        `;\n\n    this.assessmentContainer.appendChild(progressContainer);\n  }\n\n  renderCurrentQuestion() {\n    const question = this.getCurrentQuestion();\n    if (!question) {\n      this.renderAssessmentComplete();\n      return;\n    }\n\n    const questionCard = document.createElement('div');\n    questionCard.className = 'card question-card';\n    questionCard.innerHTML = `\n            <div class=\"card-header\">\n                <h5 class=\"card-title mb-0\">\n                    <span class=\"badge bg-primary me-2\">Q${this.currentQuestionIndex + 1}</span>\n                    ${question.text}\n                </h5>\n                <small class=\"text-muted\">${this.getDimensionBadge(question.dimension)}</small>\n            </div>\n            <div class=\"card-body\">\n                ${this.renderResponseOptions(question)}\n                ${question.description ? `<p class=\"text-muted mt-3\">${question.description}</p>` : ''}\n            </div>\n        `;\n\n    this.assessmentContainer.appendChild(questionCard);\n  }\n\n  renderResponseOptions(question) {\n    const currentResponse = this.app.assessmentResponses[question.id];\n    const currentValue = currentResponse ? currentResponse.score : null;\n\n    return `\n            <div class=\"response-options\">\n                <div class=\"btn-group-vertical w-100\" role=\"group\">\n                    ${question.options.map(option => `\n                        <button type=\"button\" \n                                class=\"btn btn-outline-primary ${currentValue === option.value ? 'active' : ''}\"\n                                data-score=\"${option.value}\"\n                                onclick=\"window.seApp.assessmentEngine.selectResponse(${option.value}, '${option.label}')\">\n                            ${option.label}\n                        </button>\n                    `).join('')}\n                </div>\n            </div>\n        `;\n  }\n\n  renderNavigation() {\n    // Clear any existing navigation elements first to prevent duplicates\n    const existingNav = this.assessmentContainer.querySelector('.assessment-navigation');\n    if (existingNav) {\n      existingNav.remove();\n    }\n    \n    const navContainer = document.createElement('div');\n    navContainer.className = 'assessment-navigation mt-4';\n    \n    // Check if current question has been answered\n    const currentQuestion = this.getCurrentQuestion();\n    const hasAnswered = currentQuestion && this.app.assessmentResponses[currentQuestion.id];\n    \n    navContainer.innerHTML = `\n            <div class=\"d-flex justify-content-between\">\n                <button class=\"btn btn-outline-secondary\" \n                        onclick=\"window.seApp.assessmentEngine.previousQuestion()\"\n                        ${this.currentQuestionIndex === 0 && this.currentCategoryIndex === 0 ? 'disabled' : ''}>\n                    <i class=\"bi bi-arrow-left\"></i> Previous\n                </button>\n                <button class=\"btn btn-primary\" \n                        onclick=\"window.seApp.assessmentEngine.nextQuestion()\"\n                        ${!hasAnswered ? 'disabled' : ''}>\n                    ${this.isLastQuestion() ? 'Complete Assessment' : 'Next Question'} \n                    <i class=\"bi bi-arrow-right\"></i>\n                </button>\n            </div>\n        `;\n\n    this.assessmentContainer.appendChild(navContainer);\n  }\n\n  renderNoQuestions() {\n    this.assessmentContainer.innerHTML = `\n            <div class=\"text-center py-5\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <i class=\"bi bi-exclamation-triangle display-1 text-warning mb-3\"></i>\n                        <h3>No Assessment Questions</h3>\n                        <p class=\"text-muted\">\n                            The assessment questions could not be loaded. Please check the data files.\n                        </p>\n                    </div>\n                </div>\n            </div>\n        `;\n  }\n\n  renderAssessmentComplete() {\n    // Generate recommendations automatically when assessment is complete\n    this.app.calculateScores();\n    \n    this.assessmentContainer.innerHTML = `\n            <div class=\"text-center py-5\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <i class=\"bi bi-check-circle display-1 text-success mb-3\"></i>\n                        <h3>Assessment Complete!</h3>\n                        <p class=\"text-muted mb-4\">\n                            You have completed all assessment questions. Your process tailoring recommendations are ready.\n                        </p>\n                        <div class=\"mb-4\">\n                            <h5>Assessment Scores</h5>\n                            <div class=\"row\">\n                                <div class=\"col-6 col-md-3\">\n                                    <div class=\"card bg-light\">\n                                        <div class=\"card-body text-center\">\n                                            <h6 class=\"card-title\">Overall</h6>\n                                            <h3 class=\"text-primary\">${this.app.assessmentScores.overall?.toFixed(1) || '0.0'}</h3>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"col-6 col-md-3\">\n                                    <div class=\"card bg-light\">\n                                        <div class=\"card-body text-center\">\n                                            <h6 class=\"card-title\">Complexity</h6>\n                                            <h3 class=\"text-info\">${this.app.assessmentScores.complexity?.toFixed(1) || '0.0'}</h3>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"col-6 col-md-3\">\n                                    <div class=\"card bg-light\">\n                                        <div class=\"card-body text-center\">\n                                            <h6 class=\"card-title\">Safety</h6>\n                                            <h3 class=\"text-warning\">${this.app.assessmentScores.safety?.toFixed(1) || '0.0'}</h3>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"col-6 col-md-3\">\n                                    <div class=\"card bg-light\">\n                                        <div class=\"card-body text-center\">\n                                            <h6 class=\"card-title\">Scale</h6>\n                                            <h3 class=\"text-success\">${this.app.assessmentScores.scale?.toFixed(1) || '0.0'}</h3>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <button class=\"btn btn-primary btn-lg\" onclick=\"window.seApp.showView('recommendations')\">\n                            <i class=\"bi bi-graph-up\"></i>\n                            View Recommendations\n                        </button>\n                    </div>\n                </div>\n            </div>\n        `;\n  }\n\n  selectResponse(score, label) {\n    const question = this.getCurrentQuestion();\n    if (!question) return;\n\n    this.app.updateAssessmentResponse(question.id, {\n      score: score,\n      label: label,\n      dimension: question.dimension,\n    });\n\n    // Update UI to show selected response\n    this.updateResponseButtons(score);\n  }\n\n  updateResponseButtons(selectedScore) {\n    const buttons = this.assessmentContainer.querySelectorAll('.response-options button');\n    buttons.forEach(button => {\n      const score = parseInt(button.getAttribute('data-score'));\n      if (score === selectedScore) {\n        button.classList.add('active');\n      } else {\n        button.classList.remove('active');\n      }\n    });\n    \n    // Re-render navigation to enable Next button after response selection\n    this.renderNavigation();\n  }\n\n  nextQuestion() {\n    const currentCategory = this.getCurrentCategory();\n    if (!currentCategory) return;\n\n    // Move to next question in current category\n    this.currentQuestionIndex++;\n\n    // If we've reached the end of current category, move to next category\n    if (this.currentQuestionIndex >= currentCategory.questions.length) {\n      this.currentCategoryIndex++;\n      this.currentQuestionIndex = 0;\n\n      // If we've reached the end of all categories, show completion\n      if (this.currentCategoryIndex >= this.questionData.assessmentCategories.length) {\n        this.renderAssessmentComplete();\n        return;\n      }\n    }\n\n    this.renderAssessmentInterface();\n  }\n\n  previousQuestion() {\n    // Move to previous question\n    this.currentQuestionIndex--;\n\n    // If we've gone before the first question in current category\n    if (this.currentQuestionIndex < 0) {\n      this.currentCategoryIndex--;\n\n      // If we've gone before the first category, stay at first question\n      if (this.currentCategoryIndex < 0) {\n        this.currentCategoryIndex = 0;\n        this.currentQuestionIndex = 0;\n      } else {\n        // Move to last question of previous category\n        const prevCategory = this.questionData.assessmentCategories[this.currentCategoryIndex];\n        this.currentQuestionIndex = prevCategory.questions.length - 1;\n      }\n    }\n\n    this.renderAssessmentInterface();\n  }\n\n  getCurrentCategory() {\n    return this.questionData.assessmentCategories[this.currentCategoryIndex];\n  }\n\n  getCurrentQuestion() {\n    const category = this.getCurrentCategory();\n    return category?.questions?.[this.currentQuestionIndex];\n  }\n\n  getTotalQuestions() {\n    if (!this.questionData.assessmentCategories) return 0;\n    return this.questionData.assessmentCategories.reduce((total, category) => {\n      return total + (category.questions ? category.questions.length : 0);\n    }, 0);\n  }\n\n  isLastQuestion() {\n    const lastCategoryIndex = this.questionData.assessmentCategories.length - 1;\n    const lastCategory = this.questionData.assessmentCategories[lastCategoryIndex];\n    return this.currentCategoryIndex === lastCategoryIndex &&\n               this.currentQuestionIndex === lastCategory.questions.length - 1;\n  }\n\n  getDimensionBadge(dimension) {\n    const badgeClasses = {\n      complexity: 'bg-info',\n      safety: 'bg-warning',\n      scale: 'bg-success',\n      maturity: 'bg-secondary',\n    };\n\n    const dimensionLabels = {\n      complexity: 'Technical Complexity',\n      safety: 'Safety Criticality',\n      scale: 'Project Scale',\n      maturity: 'Organizational Maturity',\n    };\n\n    return `<span class=\"badge ${badgeClasses[dimension] || 'bg-secondary'}\">${dimensionLabels[dimension] || dimension}</span>`;\n  }\n\n  resetAssessment() {\n    this.currentCategoryIndex = 0;\n    this.currentQuestionIndex = 0;\n    this.renderAssessmentInterface();\n  }\n}\n\n// Export for global access\nwindow.AssessmentEngine = AssessmentEngine;\n","/**\n * Recommendation Engine Component\n * Generates process tailoring recommendations based on assessment scores\n */\n\nclass RecommendationEngine {\n  constructor(processData, dependencyData, app) {\n    this.processData = processData;\n    this.dependencyData = dependencyData;\n    this.app = app;\n    this.recommendations = {};\n  }\n\n  generateRecommendations(assessmentScores) {\n    const processes = this.processData.processes || [];\n    const recommendations = {};\n\n    // Generate base recommendations for each process\n    processes.forEach(process => {\n      recommendations[process.id] = this.calculateProcessLevel(process, assessmentScores);\n    });\n\n    // Apply dependency constraints\n    this.applyDependencyConstraints(recommendations);\n\n    // Apply safety and other constraints\n    this.applyProcessConstraints(recommendations, assessmentScores);\n\n    // Calculate confidence scores\n    this.calculateConfidenceScores(recommendations, assessmentScores);\n\n    this.recommendations = recommendations;\n    return recommendations;\n  }\n\n  calculateProcessLevel(process, scores) {\n    // Base level calculation using weighted assessment scores\n    const baseScore = this.calculateBaseScore(process, scores);\n\n    // Determine level based on score thresholds\n    let level = 'basic';\n    if (baseScore >= 3.6) {\n      level = 'comprehensive';\n    } else if (baseScore >= 2.1) {\n      level = 'standard';\n    }\n\n    return {\n      processId: process.id,\n      processName: process.name,\n      category: process.category,\n      recommendedLevel: level,\n      baseScore: baseScore,\n      rationale: this.generateRationale(process, scores, level),\n      effort: process.tailoringLevels[level]?.effort || 1,\n      complexity: process.tailoringLevels[level]?.complexity || 1,\n      activities: process.tailoringLevels[level]?.activities || [],\n      outputs: process.tailoringLevels[level]?.outputs || [],\n      dependencies: [],\n      constraints: [],\n      confidence: 0.8, // Will be calculated later\n    };\n  }\n\n  calculateBaseScore(process, scores) {\n    // Process-specific scoring weights based on category\n    const weights = this.getProcessWeights(process);\n\n    // Calculate weighted score\n    let weightedScore = 0;\n    let totalWeight = 0;\n\n    Object.keys(weights).forEach(dimension => {\n      if (scores[dimension] !== undefined) {\n        weightedScore += scores[dimension] * weights[dimension];\n        totalWeight += weights[dimension];\n      }\n    });\n\n    return totalWeight > 0 ? weightedScore / totalWeight : 0;\n  }\n\n  getProcessWeights(process) {\n    // Default weights - can be customized per process\n    const defaultWeights = {\n      complexity: 0.3,\n      safety: 0.25,\n      scale: 0.25,\n      maturity: 0.2,\n    };\n\n    // Process-specific weight adjustments\n    const adjustments = {\n      // Safety-critical processes weight safety more heavily\n      'risk_management': { safety: 0.4, complexity: 0.25, scale: 0.2, maturity: 0.15 },\n      'quality_assurance': { safety: 0.35, complexity: 0.25, scale: 0.2, maturity: 0.2 },\n      'verification': { safety: 0.35, complexity: 0.3, scale: 0.2, maturity: 0.15 },\n      'validation': { safety: 0.35, complexity: 0.25, scale: 0.2, maturity: 0.2 },\n\n      // Technical processes weight complexity more heavily\n      'system_analysis': { complexity: 0.4, safety: 0.2, scale: 0.25, maturity: 0.15 },\n      'architecture_definition': { complexity: 0.4, safety: 0.2, scale: 0.25, maturity: 0.15 },\n      'design_definition': { complexity: 0.4, safety: 0.2, scale: 0.25, maturity: 0.15 },\n\n      // Management processes weight scale and maturity more heavily\n      'project_planning': { scale: 0.35, maturity: 0.25, complexity: 0.2, safety: 0.2 },\n      'project_assessment_control': { scale: 0.35, maturity: 0.25, complexity: 0.2, safety: 0.2 },\n      'configuration_management': { scale: 0.3, maturity: 0.3, complexity: 0.2, safety: 0.2 },\n    };\n\n    return adjustments[process.id] || defaultWeights;\n  }\n\n  applyDependencyConstraints(recommendations) {\n    const dependencies = this.dependencyData.dependencies || [];\n    let changed = true;\n    let iterations = 0;\n    const maxIterations = 10; // Prevent infinite loops\n\n    // Iteratively apply constraints until no more changes\n    while (changed && iterations < maxIterations) {\n      changed = false;\n      iterations++;\n\n      dependencies.forEach(dep => {\n        const sourceRec = recommendations[dep.source];\n        const targetRec = recommendations[dep.target];\n\n        if (sourceRec && targetRec) {\n          const sourceLevel = this.getLevelValue(sourceRec.recommendedLevel);\n          const requiredTargetLevel = this.getLevelValue(dep.targetLevel);\n          const currentTargetLevel = this.getLevelValue(targetRec.recommendedLevel);\n\n          // If source is at the specified level and target is below required minimum\n          if (sourceLevel >= this.getLevelValue(dep.sourceLevel) &&\n                        currentTargetLevel < requiredTargetLevel) {\n\n            const newLevel = dep.targetLevel;\n            targetRec.recommendedLevel = newLevel;\n            targetRec.effort = this.processData.processes.find(p => p.id === dep.target)?.tailoringLevels[newLevel]?.effort || targetRec.effort;\n            targetRec.complexity = this.processData.processes.find(p => p.id === dep.target)?.tailoringLevels[newLevel]?.complexity || targetRec.complexity;\n\n            // Add dependency constraint to rationale\n            targetRec.constraints.push({\n              type: 'dependency',\n              source: dep.source,\n              sourceLevel: dep.sourceLevel,\n              reason: `Required by ${sourceRec.processName} at ${dep.sourceLevel} level`,\n            });\n\n            // Track the dependency\n            sourceRec.dependencies.push({\n              target: dep.target,\n              targetName: targetRec.processName,\n              requiredLevel: dep.targetLevel,\n              type: dep.type || 'horizontal',\n            });\n\n            changed = true;\n          }\n        }\n      });\n    }\n\n    if (iterations >= maxIterations) {\n      // Dependency constraint resolution reached maximum iterations\n    }\n  }\n\n  applyProcessConstraints(recommendations, scores) {\n    const processes = this.processData.processes || [];\n\n    processes.forEach(process => {\n      const rec = recommendations[process.id];\n      if (!rec || !process.constraints) return;\n\n      process.constraints.forEach(constraint => {\n        if (this.evaluateConstraintCondition(constraint.condition, scores)) {\n          const requiredLevel = constraint.requiredLevel;\n          const currentLevel = this.getLevelValue(rec.recommendedLevel);\n          const requiredLevelValue = this.getLevelValue(requiredLevel);\n\n          if (currentLevel < requiredLevelValue) {\n            rec.recommendedLevel = requiredLevel;\n            rec.effort = process.tailoringLevels[requiredLevel]?.effort || rec.effort;\n            rec.complexity = process.tailoringLevels[requiredLevel]?.complexity || rec.complexity;\n\n            rec.constraints.push({\n              type: 'process',\n              condition: constraint.condition,\n              reason: constraint.rationale || 'Process constraint applied',\n            });\n          }\n        }\n      });\n    });\n  }\n\n  evaluateConstraintCondition(condition, scores) {\n    try {\n      // Simple condition evaluation - extend as needed\n      // Example: \"safety_criticality > 3\"\n      const match = condition.match(/(\\w+)\\s*([><=]+)\\s*(\\d+\\.?\\d*)/);\n      if (match) {\n        const [, dimension, operator, threshold] = match;\n        const score = scores[dimension];\n        const thresholdValue = parseFloat(threshold);\n\n        switch (operator) {\n          case '>': return score > thresholdValue;\n          case '>=': return score >= thresholdValue;\n          case '<': return score < thresholdValue;\n          case '<=': return score <= thresholdValue;\n          case '=': case '==': return Math.abs(score - thresholdValue) < 0.1;\n          default: return false;\n        }\n      }\n    } catch (error) {\n      // Failed to evaluate constraint condition\n    }\n    return false;\n  }\n\n  calculateConfidenceScores(recommendations, scores) {\n    Object.values(recommendations).forEach(rec => {\n      let confidence = 0.8; // Base confidence\n\n      // Reduce confidence if score is near threshold boundaries\n      const baseScore = rec.baseScore;\n      if ((baseScore >= 2.0 && baseScore <= 2.2) || (baseScore >= 3.5 && baseScore <= 3.7)) {\n        confidence -= 0.2;\n      }\n\n      // Reduce confidence if conflicting constraints\n      if (rec.constraints.length > 2) {\n        confidence -= 0.1;\n      }\n\n      // Increase confidence if multiple factors align\n      const extremeScores = Object.values(scores).filter(s => s <= 1.5 || s >= 4.5).length;\n      if (extremeScores >= 2) {\n        confidence += 0.1;\n      }\n\n      rec.confidence = Math.max(0.4, Math.min(1.0, confidence));\n    });\n  }\n\n  getLevelValue(level) {\n    const values = { 'basic': 1, 'standard': 2, 'comprehensive': 3 };\n    return values[level] || 1;\n  }\n\n  generateRationale(process, scores, level) {\n    const rationale = [];\n    const weights = this.getProcessWeights(process);\n\n    // Primary drivers\n    const primaryFactors = Object.keys(weights)\n      .map(dim => ({ dimension: dim, weight: weights[dim], score: scores[dim] }))\n      .sort((a, b) => b.weight - a.weight)\n      .slice(0, 2);\n\n    primaryFactors.forEach(factor => {\n      const impact = this.getScoreImpact(factor.score);\n      rationale.push(`${this.getDimensionName(factor.dimension)} (${factor.score.toFixed(1)}/5.0) ${impact.description}`);\n    });\n\n    // Level justification\n    switch (level) {\n      case 'basic':\n        rationale.push('Basic level recommended for low complexity and risk profile');\n        break;\n      case 'standard':\n        rationale.push('Standard level provides balanced formality for moderate complexity');\n        break;\n      case 'comprehensive':\n        rationale.push('Comprehensive level required for high complexity and criticality');\n        break;\n    }\n\n    return rationale;\n  }\n\n  getDimensionName(dimension) {\n    const names = {\n      complexity: 'Technical Complexity',\n      safety: 'Safety Criticality',\n      scale: 'Project Scale',\n      maturity: 'Organizational Maturity',\n    };\n    return names[dimension] || dimension;\n  }\n\n  getScoreImpact(score) {\n    if (score <= 2.0) return { level: 'low', description: 'suggests minimal formality' };\n    if (score <= 3.5) return { level: 'medium', description: 'indicates moderate formality needed' };\n    return { level: 'high', description: 'requires high formality and rigor' };\n  }\n\n  render() {\n    const container = document.getElementById('recommendations-content');\n    if (!container) return;\n\n    const assessmentData = this.app.getAssessmentData();\n\n    if (!assessmentData.recommendations || Object.keys(assessmentData.recommendations).length === 0) {\n      this.renderNoRecommendations(container);\n      return;\n    }\n\n    this.renderRecommendations(container, assessmentData);\n  }\n\n  renderNoRecommendations(container) {\n    container.innerHTML = `\n            <div class=\"text-center py-5\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <i class=\"bi bi-exclamation-circle display-1 text-warning mb-3\"></i>\n                        <h3>No Recommendations Available</h3>\n                        <p class=\"text-muted mb-4\">\n                            Complete the assessment first to generate personalized process tailoring recommendations.\n                        </p>\n                        <button class=\"btn btn-primary\" onclick=\"window.seApp.showView('assessment')\">\n                            <i class=\"bi bi-clipboard-check\"></i>\n                            Start Assessment\n                        </button>\n                    </div>\n                </div>\n            </div>\n        `;\n  }\n\n  renderRecommendations(container, assessmentData) {\n    const recommendations = assessmentData.recommendations;\n\n    // Group recommendations by category\n    const groupedRecs = this.groupRecommendationsByCategory(recommendations);\n\n    // Calculate summary statistics\n    const stats = this.calculateSummaryStats(recommendations);\n\n    const html = `\n            <div class=\"mb-4\">\n                <div class=\"card shadow-sm\">\n                    <div class=\"card-header bg-gradient-primary text-white\">\n                        <h4 class=\"card-title mb-0\">\n                            <i class=\"bi bi-lightbulb-fill\"></i>\n                            Process Tailoring Recommendations\n                        </h4>\n                    </div>\n                    <div class=\"card-body\">\n                        <div class=\"row mb-4\">\n                            <div class=\"col-md-3\">\n                                <div class=\"stat-card border-start-primary\">\n                                    <span class=\"stat-number text-success\">${stats.basic}</span>\n                                    <span class=\"stat-label\">Basic Level</span>\n                                </div>\n                            </div>\n                            <div class=\"col-md-3\">\n                                <div class=\"stat-card border-start-warning\">\n                                    <span class=\"stat-number text-warning\">${stats.standard}</span>\n                                    <span class=\"stat-label\">Standard Level</span>\n                                </div>\n                            </div>\n                            <div class=\"col-md-3\">\n                                <div class=\"stat-card border-start-danger\">\n                                    <span class=\"stat-number text-danger\">${stats.comprehensive}</span>\n                                    <span class=\"stat-label\">Comprehensive Level</span>\n                                </div>\n                            </div>\n                            <div class=\"col-md-3\">\n                                <div class=\"stat-card\">\n                                    <span class=\"stat-number\">${stats.totalEffort}</span>\n                                    <span class=\"stat-label\">Total Effort Score</span>\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div class=\"alert alert-info\">\n                            <i class=\"bi bi-info-circle me-2\"></i>\n                            <strong>Implementation Guidance:</strong> Start with high-priority processes and gradually implement others. \n                            Pay special attention to dependency relationships shown in the visualization.\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            ${Object.keys(groupedRecs).map(category => this.renderCategorySection(category, groupedRecs[category])).join('')}\n        `;\n\n    container.innerHTML = html;\n    this.attachRecommendationEventListeners();\n  }\n\n  groupRecommendationsByCategory(recommendations) {\n    const grouped = {};\n\n    Object.values(recommendations).forEach(rec => {\n      const category = rec.category || 'other';\n      if (!grouped[category]) {\n        grouped[category] = [];\n      }\n      grouped[category].push(rec);\n    });\n\n    // Sort processes within each category by name\n    Object.keys(grouped).forEach(category => {\n      grouped[category].sort((a, b) => a.processName.localeCompare(b.processName));\n    });\n\n    return grouped;\n  }\n\n  renderCategorySection(category, processes) {\n    const categoryName = this.processData.processCategories?.[category] || category;\n\n    return `\n            <div class=\"mb-4\">\n                <h5 class=\"mb-3\">\n                    <i class=\"bi bi-${this.getCategoryIcon(category)}\"></i>\n                    ${categoryName}\n                </h5>\n                <div class=\"row\">\n                    ${processes.map(process => this.renderProcessCard(process)).join('')}\n                </div>\n            </div>\n        `;\n  }\n\n  renderProcessCard(process) {\n    const levelClass = process.recommendedLevel;\n    const confidencePercent = Math.round(process.confidence * 100);\n\n    return `\n            <div class=\"col-lg-6 mb-3\">\n                <div class=\"process-card card ${levelClass}\">\n                    <div class=\"card-body\">\n                        <div class=\"d-flex justify-content-between align-items-start mb-2\">\n                            <h6 class=\"process-title mb-1\">${process.processName}</h6>\n                            <span class=\"level-badge level-${levelClass}\">${process.recommendedLevel}</span>\n                        </div>\n                        \n                        <div class=\"mb-2\">\n                            <small class=\"text-muted\">\n                                Effort: <strong>${process.effort}</strong> | \n                                Complexity: <strong>${process.complexity}</strong> | \n                                Confidence: <strong>${confidencePercent}%</strong>\n                            </small>\n                        </div>\n\n                        <div class=\"mb-3\">\n                            <strong>Rationale:</strong>\n                            <ul class=\"list-unstyled mt-1 mb-0\">\n                                ${process.rationale.map(reason => `<li class=\"text-small text-muted\">• ${reason}</li>`).join('')}\n                            </ul>\n                        </div>\n\n                        ${process.constraints.length > 0 ? `\n                            <div class=\"mb-3\">\n                                <strong>Constraints Applied:</strong>\n                                <ul class=\"list-unstyled mt-1 mb-0\">\n                                    ${process.constraints.map(constraint => `\n                                        <li class=\"text-small text-warning\">• ${constraint.reason}</li>\n                                    `).join('')}\n                                </ul>\n                            </div>\n                        ` : ''}\n\n                        ${process.dependencies.length > 0 ? `\n                            <div class=\"mb-3\">\n                                <strong>Dependencies:</strong>\n                                <ul class=\"dependency-list\">\n                                    ${process.dependencies.map(dep => `\n                                        <li class=\"dependency-item ${dep.type === 'vertical' ? 'critical' : 'important'}\">\n                                            <small>\n                                                <strong>${dep.targetName}</strong> requires <em>${dep.requiredLevel}</em> level\n                                                <span class=\"badge badge-sm bg-secondary ms-1\">${dep.type}</span>\n                                            </small>\n                                        </li>\n                                    `).join('')}\n                                </ul>\n                            </div>\n                        ` : ''}\n\n                        <div class=\"text-end\">\n                            <button class=\"btn btn-outline-primary btn-sm\" onclick=\"window.seApp.showProcessDetails('${process.processId}')\">\n                                <i class=\"bi bi-info-circle\"></i>\n                                Details\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;\n  }\n\n  calculateSummaryStats(recommendations) {\n    const stats = {\n      basic: 0,\n      standard: 0,\n      comprehensive: 0,\n      totalEffort: 0,\n      averageConfidence: 0,\n    };\n\n    const recs = Object.values(recommendations);\n\n    recs.forEach(rec => {\n      stats[rec.recommendedLevel]++;\n      stats.totalEffort += rec.effort || 0;\n    });\n\n    stats.averageConfidence = recs.length > 0\n      ? recs.reduce((sum, rec) => sum + rec.confidence, 0) / recs.length\n      : 0;\n\n    return stats;\n  }\n\n  getCategoryIcon(category) {\n    const icons = {\n      'technical_management': 'gear',\n      'technical': 'cpu',\n      'other': 'circle',\n    };\n    return icons[category] || 'circle';\n  }\n\n  attachRecommendationEventListeners() {\n    // Add any interactive event listeners here\n    // Currently handled through onclick attributes in the HTML\n  }\n\n  // Public methods for app integration\n  getRecommendations() {\n    return this.recommendations;\n  }\n\n  getProcessRecommendation(processId) {\n    return this.recommendations[processId];\n  }\n}\n\n// Export for global access\nwindow.RecommendationEngine = RecommendationEngine;\n","/**\n * Process Network Visualizer Component\n * Creates interactive D3.js network diagrams showing process relationships\n */\n\nclass ProcessNetworkVisualizer {\n  constructor(processData, dependencyData, app) {\n    this.processData = processData;\n    this.dependencyData = dependencyData;\n    this.app = app;\n    this.svg = null;\n    this.simulation = null;\n    this.nodes = [];\n    this.links = [];\n    this.width = 800;\n    this.height = 600;\n    this.zoom = null;\n    this.currentFilters = {\n      categories: new Set(['technical_management', 'technical']),\n      levels: new Set(['basic', 'standard', 'comprehensive']),\n      showDependencies: true,\n      showMetrics: true,\n      showRecommendations: true,\n      searchTerm: '',\n      layoutSettings: {\n        chargeStrength: -200,\n        linkStrength: 0.5,\n      },\n    };\n  }\n\n  render() {\n    this.setupContainer();\n    this.renderControls();\n    this.prepareData();\n    this.createVisualization();\n    this.setupEventListeners();\n  }\n\n  setupContainer() {\n    const container = document.getElementById('network-visualization');\n    if (!container) return;\n\n    // Clear existing content\n    container.innerHTML = '';\n\n    // Get container dimensions\n    const rect = container.getBoundingClientRect();\n    this.width = Math.max(800, rect.width - 20);\n    this.height = Math.max(600, rect.height - 20);\n  }\n\n  renderControls() {\n    const controlsContainer = document.getElementById('visualization-controls');\n    if (!controlsContainer) return;\n\n    const html = `\n            <div class=\"control-group\">\n                <label class=\"control-label\">Search Processes</label>\n                <div class=\"input-group input-group-sm\">\n                    <span class=\"input-group-text\">\n                        <i class=\"bi bi-search\"></i>\n                    </span>\n                    <input type=\"text\" class=\"form-control\" id=\"process-search\" \n                           placeholder=\"Type to search processes...\">\n                </div>\n            </div>\n\n            <div class=\"control-group\">\n                <label class=\"control-label\">Process Categories</label>\n                <div class=\"form-check form-check-sm\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"filter-technical-mgmt\" checked>\n                    <label class=\"form-check-label\" for=\"filter-technical-mgmt\">\n                        Technical Management\n                    </label>\n                </div>\n                <div class=\"form-check form-check-sm\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"filter-technical\" checked>\n                    <label class=\"form-check-label\" for=\"filter-technical\">\n                        Technical Processes\n                    </label>\n                </div>\n            </div>\n\n            <div class=\"control-group\">\n                <label class=\"control-label\">Tailoring Levels</label>\n                <div class=\"form-check form-check-sm\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"filter-basic\" checked>\n                    <label class=\"form-check-label\" for=\"filter-basic\">\n                        <span class=\"level-badge level-basic\">Basic</span>\n                    </label>\n                </div>\n                <div class=\"form-check form-check-sm\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"filter-standard\" checked>\n                    <label class=\"form-check-label\" for=\"filter-standard\">\n                        <span class=\"level-badge level-standard\">Standard</span>\n                    </label>\n                </div>\n                <div class=\"form-check form-check-sm\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"filter-comprehensive\" checked>\n                    <label class=\"form-check-label\" for=\"filter-comprehensive\">\n                        <span class=\"level-badge level-comprehensive\">Comprehensive</span>\n                    </label>\n                </div>\n            </div>\n\n            <div class=\"control-group\">\n                <label class=\"control-label\">Display Options</label>\n                <div class=\"form-check form-check-sm\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"show-dependencies\" checked>\n                    <label class=\"form-check-label\" for=\"show-dependencies\">\n                        Show Dependencies\n                    </label>\n                </div>\n                <div class=\"form-check form-check-sm\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"show-labels\" checked>\n                    <label class=\"form-check-label\" for=\"show-labels\">\n                        Show Labels\n                    </label>\n                </div>\n                <div class=\"form-check form-check-sm\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"show-metrics\" checked>\n                    <label class=\"form-check-label\" for=\"show-metrics\">\n                        Show Metrics\n                    </label>\n                </div>\n                <div class=\"form-check form-check-sm\">\n                    <input class=\"form-check-input\" type=\"checkbox\" id=\"show-recommendations\" checked>\n                    <label class=\"form-check-label\" for=\"show-recommendations\">\n                        Show Recommendations\n                    </label>\n                </div>\n            </div>\n\n            <div class=\"control-group\">\n                <label class=\"control-label\">Layout</label>\n                <select class=\"form-select form-select-sm\" id=\"layout-select\">\n                    <option value=\"force\">Force-Directed</option>\n                    <option value=\"circular\">Circular</option>\n                    <option value=\"hierarchical\">Hierarchical</option>\n                </select>\n            </div>\n\n            <div class=\"control-group\">\n                <label class=\"control-label\">Force Layout Settings</label>\n                <div class=\"input-group input-group-sm\">\n                    <span class=\"input-group-text\">Charge</span>\n                    <input type=\"range\" class=\"form-range\" id=\"charge-strength\" min=\"-1000\" max=\"-50\" value=\"-200\">\n                    <span class=\"input-group-text\" id=\"charge-value\">-200</span>\n                </div>\n                <div class=\"input-group input-group-sm\">\n                    <span class=\"input-group-text\">Link</span>\n                    <input type=\"range\" class=\"form-range\" id=\"link-strength\" min=\"0\" max=\"2\" step=\"0.1\" value=\"0.5\">\n                    <span class=\"input-group-text\" id=\"link-value\">0.5</span>\n                </div>\n            </div>\n\n            <div class=\"control-group\">\n                <button class=\"btn btn-outline-primary btn-sm w-100\" id=\"reset-filters-btn\">\n                    <i class=\"bi bi-arrow-clockwise\"></i>\n                    Reset Filters\n                </button>\n                <button class=\"btn btn-outline-secondary btn-sm w-100 mt-2\" id=\"export-network-btn\">\n                    <i class=\"bi bi-download\"></i>\n                    Export Network\n                </button>\n                <button class=\"btn btn-outline-info btn-sm w-100 mt-2\" id=\"help-network-btn\">\n                    <i class=\"bi bi-question-circle\"></i>\n                    Help & Tips\n                </button>\n            </div>\n        `;\n\n    controlsContainer.innerHTML = html;\n    this.attachControlEventListeners();\n  }\n\n  attachControlEventListeners() {\n    // Search functionality\n    const searchInput = document.getElementById('process-search');\n    if (searchInput) {\n      searchInput.addEventListener('input', (e) => {\n        this.currentFilters.searchTerm = e.target.value.toLowerCase();\n        this.updateVisualization();\n      });\n    }\n\n    // Category filters\n    ['technical-mgmt', 'technical'].forEach(category => {\n      const checkbox = document.getElementById(`filter-${category}`);\n      if (checkbox) {\n        checkbox.addEventListener('change', (e) => {\n          const categoryKey = category === 'technical-mgmt' ? 'technical_management' : 'technical';\n          if (e.target.checked) {\n            this.currentFilters.categories.add(categoryKey);\n          } else {\n            this.currentFilters.categories.delete(categoryKey);\n          }\n          this.updateVisualization();\n        });\n      }\n    });\n\n    // Level filters\n    ['basic', 'standard', 'comprehensive'].forEach(level => {\n      const checkbox = document.getElementById(`filter-${level}`);\n      if (checkbox) {\n        checkbox.addEventListener('change', (e) => {\n          if (e.target.checked) {\n            this.currentFilters.levels.add(level);\n          } else {\n            this.currentFilters.levels.delete(level);\n          }\n          this.updateVisualization();\n        });\n      }\n    });\n\n    // Display options\n    const showDepsCheckbox = document.getElementById('show-dependencies');\n    if (showDepsCheckbox) {\n      showDepsCheckbox.addEventListener('change', (e) => {\n        this.currentFilters.showDependencies = e.target.checked;\n        this.updateVisualization();\n      });\n    }\n\n    const showLabelsCheckbox = document.getElementById('show-labels');\n    if (showLabelsCheckbox) {\n      showLabelsCheckbox.addEventListener('change', (e) => {\n        this.toggleLabels(e.target.checked);\n      });\n    }\n\n    // Layout selection\n    const layoutSelect = document.getElementById('layout-select');\n    if (layoutSelect) {\n      layoutSelect.addEventListener('change', (e) => {\n        this.changeLayout(e.target.value);\n      });\n    }\n\n    // Force layout settings\n    const chargeSlider = document.getElementById('charge-strength');\n    const chargeValue = document.getElementById('charge-value');\n    if (chargeSlider && chargeValue) {\n      chargeSlider.addEventListener('input', (e) => {\n        const value = parseInt(e.target.value);\n        chargeValue.textContent = value;\n        this.currentFilters.layoutSettings.chargeStrength = value;\n        this.updateForceLayout();\n      });\n    }\n\n    const linkSlider = document.getElementById('link-strength');\n    const linkValue = document.getElementById('link-value');\n    if (linkSlider && linkValue) {\n      linkSlider.addEventListener('input', (e) => {\n        const value = parseFloat(e.target.value);\n        linkValue.textContent = value;\n        this.currentFilters.layoutSettings.linkStrength = value;\n        this.updateForceLayout();\n      });\n    }\n\n    // Display options\n    const showMetricsCheckbox = document.getElementById('show-metrics');\n    if (showMetricsCheckbox) {\n      showMetricsCheckbox.addEventListener('change', (e) => {\n        this.currentFilters.showMetrics = e.target.checked;\n        this.updateVisualization();\n      });\n    }\n\n    const showRecsCheckbox = document.getElementById('show-recommendations');\n    if (showRecsCheckbox) {\n      showRecsCheckbox.addEventListener('change', (e) => {\n        this.currentFilters.showRecommendations = e.target.checked;\n        this.updateVisualization();\n      });\n    }\n\n    // Export button\n    const exportBtn = document.getElementById('export-network-btn');\n    if (exportBtn) {\n      exportBtn.addEventListener('click', () => {\n        this.exportNetwork();\n      });\n    }\n\n    // Help button\n    const helpBtn = document.getElementById('help-network-btn');\n    if (helpBtn) {\n      helpBtn.addEventListener('click', () => {\n        this.showHelpModal();\n      });\n    }\n\n    // Reset filters\n    const resetBtn = document.getElementById('reset-filters-btn');\n    if (resetBtn) {\n      resetBtn.addEventListener('click', () => {\n        this.resetFilters();\n      });\n    }\n  }\n\n  updateForceLayout() {\n    if (this.simulation) {\n      this.simulation.force('charge', d3.forceManyBody().strength(this.currentFilters.layoutSettings.chargeStrength));\n      this.simulation.force('link', d3.forceLink(this.links).strength(this.currentFilters.layoutSettings.linkStrength));\n      this.simulation.alpha(0.3).restart();\n    }\n  }\n\n  exportNetwork() {\n    const svgElement = this.svg.node();\n    const serializer = new XMLSerializer();\n    const source = serializer.serializeToString(svgElement);\n\n    // Add namespace\n    const svgWithNamespace = source.replace('<svg', '<svg xmlns=\"http://www.w3.org/2000/svg\"');\n\n    // Create download link\n    const blob = new Blob([svgWithNamespace], { type: 'image/svg+xml' });\n    const url = URL.createObjectURL(blob);\n\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'se-process-network.svg';\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  }\n\n  showHelpModal() {\n    const modalHtml = `\n            <div class=\"modal fade\" id=\"network-help-modal\" tabindex=\"-1\">\n                <div class=\"modal-dialog modal-lg\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <h5 class=\"modal-title\">Network Visualization Help</h5>\n                            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n                        </div>\n                        <div class=\"modal-body\">\n                            <h6>Interactive Features</h6>\n                            <ul>\n                                <li><strong>Drag nodes</strong> to reposition them</li>\n                                <li><strong>Click nodes</strong> to view process details</li>\n                                <li><strong>Mouse wheel</strong> to zoom in/out</li>\n                                <li><strong>Drag background</strong> to pan the view</li>\n                            </ul>\n                            \n                            <h6>Filtering Options</h6>\n                            <ul>\n                                <li><strong>Search</strong>: Filter processes by name</li>\n                                <li><strong>Categories</strong>: Show/hide process categories</li>\n                                <li><strong>Levels</strong>: Filter by tailoring levels</li>\n                                <li><strong>Dependencies</strong>: Toggle dependency visibility</li>\n                            </ul>\n                            \n                            <h6>Layout Controls</h6>\n                            <ul>\n                                <li><strong>Force-Directed</strong>: Dynamic physics-based layout</li>\n                                <li><strong>Circular</strong>: Organized circular arrangement</li>\n                                <li><strong>Hierarchical</strong>: Tree-like structure</li>\n                                <li><strong>Charge/Link</strong>: Adjust node repulsion and link strength</li>\n                            </ul>\n                        </div>\n                        <div class=\"modal-footer\">\n                            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;\n\n    // Remove existing modal if any\n    const existingModal = document.getElementById('network-help-modal');\n    if (existingModal) {\n      existingModal.remove();\n    }\n\n    // Add modal to DOM\n    document.body.insertAdjacentHTML('beforeend', modalHtml);\n\n    // Show modal\n    const modal = new bootstrap.Modal(document.getElementById('network-help-modal'));\n    modal.show();\n  }\n\n  prepareData() {\n    const processes = this.processData.processes || [];\n    const dependencies = this.dependencyData.dependencies || [];\n    const recommendations = this.app.getAssessmentData().recommendations;\n\n    // Create nodes\n    this.nodes = processes.map(process => {\n      const recommendation = recommendations?.[process.id];\n      const recommendedLevel = recommendation?.recommendedLevel || 'basic';\n\n      return {\n        id: process.id,\n        name: process.name,\n        category: process.category,\n        description: process.description,\n        recommendedLevel: recommendedLevel,\n        effort: recommendation?.effort || 1,\n        complexity: recommendation?.complexity || 1,\n        confidence: recommendation?.confidence || 0.8,\n        x: Math.random() * this.width,\n        y: Math.random() * this.height,\n      };\n    });\n\n    // Create links from dependencies\n    this.links = dependencies.map(dep => ({\n      source: dep.source,\n      target: dep.target,\n      type: dep.type || 'horizontal',\n      sourceLevel: dep.sourceLevel,\n      targetLevel: dep.targetLevel,\n      strength: dep.type === 'vertical' ? 0.8 : 0.4,\n    }));\n  }\n\n  createVisualization() {\n    const container = document.getElementById('network-visualization');\n    if (!container) return;\n\n    // Create SVG container with responsive design\n    this.svg = d3.select(container)\n      .append('svg')\n      .attr('width', '100%')\n      .attr('height', '100%')\n      .attr('viewBox', [0, 0, this.width, this.height])\n      .attr('preserveAspectRatio', 'xMidYMid meet')\n      .attr('class', 'network-svg')\n      .style('background', '#f8f9fa');\n\n    // Add zoom behavior with smooth transitions\n    this.zoom = d3.zoom()\n      .scaleExtent([0.1, 8])\n      .translateExtent([[0, 0], [this.width, this.height]])\n      .on('zoom', (event) => {\n        this.svg.select('.zoom-container').attr('transform', event.transform);\n      });\n\n    this.svg.call(this.zoom)\n      .call(this.zoom.transform, d3.zoomIdentity);\n\n    // Create container for zoomable content\n    const zoomContainer = this.svg.append('g').attr('class', 'zoom-container');\n\n    // Add sophisticated arrow markers for different link types\n    const defs = this.svg.append('defs');\n\n    const markerTypes = [\n      { id: 'dependency', color: '#dc3545', width: 4 },\n      { id: 'information', color: '#0d6efd', width: 3 },\n      { id: 'sequential', color: '#198754', width: 2 },\n    ];\n\n    markerTypes.forEach(type => {\n      defs.append('marker')\n        .attr('id', `arrow-${type.id}`)\n        .attr('viewBox', '0 -5 10 10')\n        .attr('refX', 18)\n        .attr('refY', 0)\n        .attr('markerWidth', 8)\n        .attr('markerHeight', 8)\n        .attr('orient', 'auto')\n        .append('path')\n        .attr('d', 'M0,-5L10,0L0,5')\n        .attr('fill', type.color)\n        .attr('stroke', type.color)\n        .attr('stroke-width', type.width);\n    });\n\n    // Create enhanced force simulation with custom parameters\n    this.simulation = d3.forceSimulation(this.nodes)\n      .force('link', d3.forceLink(this.links)\n        .id(d => d.id)\n        .strength(this.currentFilters.layoutSettings.linkStrength)\n        .distance(100))\n      .force('charge', d3.forceManyBody().strength(this.currentFilters.layoutSettings.chargeStrength))\n      .force('center', d3.forceCenter(this.width / 2, this.height / 2))\n      .force('collision', d3.forceCollide().radius(45))\n      .force('x', d3.forceX(this.width / 2).strength(0.05))\n      .force('y', d3.forceY(this.height / 2).strength(0.05));\n\n    // Draw links with enhanced styling\n    this.linkElements = zoomContainer.append('g')\n      .attr('class', 'links')\n      .selectAll('line')\n      .data(this.links)\n      .enter()\n      .append('line')\n      .attr('class', d => `network-link link-${d.type}`)\n      .attr('marker-end', d => `url(#arrow-${d.type})`)\n      .attr('stroke-width', d => {\n        const strengths = { dependency: 3, information: 2, sequential: 1.5 };\n        return strengths[d.type] || 1.5;\n      })\n      .attr('stroke-opacity', 0.8)\n      .attr('stroke-linecap', 'round');\n\n    // Draw nodes with enhanced styling and interactivity\n    this.nodeElements = zoomContainer.append('g')\n      .attr('class', 'nodes')\n      .selectAll('circle')\n      .data(this.nodes)\n      .enter()\n      .append('circle')\n      .attr('class', d => `network-node node-${d.category} level-${d.recommendedLevel}`)\n      .attr('r', d => {\n        // Scale node size based on importance/complexity\n        const baseSize = 20;\n        const complexityMultiplier = d.complexity ? d.complexity / 10 : 1;\n        return baseSize * complexityMultiplier;\n      })\n      .attr('fill', d => this.getNodeColor(d))\n      .attr('stroke', '#fff')\n      .attr('stroke-width', 2)\n      .attr('cursor', 'pointer')\n      .call(d3.drag()\n        .on('start', (event, d) => this.dragStarted(event, d))\n        .on('drag', (event, d) => this.dragged(event, d))\n        .on('end', (event, d) => this.dragEnded(event, d)),\n      )\n      .on('mouseover', (event, d) => this.showTooltip(event, d))\n      .on('mouseout', () => this.hideTooltip())\n      .on('click', (event, d) => this.nodeClicked(event, d));\n\n    // Add dynamic labels with conditional visibility\n    this.labelElements = zoomContainer.append('g')\n      .attr('class', 'labels')\n      .selectAll('text')\n      .data(this.nodes)\n      .enter()\n      .append('text')\n      .attr('class', 'network-text')\n      .attr('text-anchor', 'middle')\n      .attr('dy', d => {\n        const baseOffset = 35;\n        const sizeOffset = (d.complexity ? d.complexity / 10 : 1) * 5;\n        return baseOffset + sizeOffset;\n      })\n      .attr('font-size', '12px')\n      .attr('font-weight', '600')\n      .attr('fill', '#2c3e50')\n      .attr('pointer-events', 'none')\n      .attr('paint-order', 'stroke')\n      .attr('stroke', '#ffffff')\n      .attr('stroke-width', 3)\n      .attr('stroke-linecap', 'round')\n      .attr('stroke-linejoin', 'round')\n      .text(d => this.getNodeLabel(d));\n\n    // Add metric badges if enabled\n    this.metricElements = zoomContainer.append('g')\n      .attr('class', 'metrics')\n      .selectAll('text')\n      .data(this.nodes)\n      .enter()\n      .append('text')\n      .attr('class', 'node-metric')\n      .attr('text-anchor', 'middle')\n      .attr('dy', d => {\n        const baseOffset = -25;\n        const sizeOffset = (d.complexity ? d.complexity / 10 : 1) * 5;\n        return baseOffset - sizeOffset;\n      })\n      .attr('font-size', '10px')\n      .attr('fill', '#6c757d')\n      .attr('pointer-events', 'none')\n      .text(d => {\n        if (!this.currentFilters.showMetrics) return '';\n        const metrics = [];\n        if (d.effort) metrics.push(`Effort: ${d.effort}`);\n        if (d.complexity) metrics.push(`Complexity: ${d.complexity}`);\n        return metrics.join(' | ');\n      });\n\n    // Create tooltip\n    this.tooltip = d3.select('body')\n      .append('div')\n      .attr('class', 'network-tooltip')\n      .style('opacity', 0);\n\n    // Update positions on simulation tick with smooth transitions\n    this.simulation.on('tick', () => this.ticked());\n\n    // Initial update\n    this.updateVisualization();\n  }\n\n  getNodeColor(node) {\n    const colors = {\n      basic: '#28a745',\n      standard: '#ffc107',\n      comprehensive: '#dc3545',\n    };\n    return colors[node.recommendedLevel] || '#6c757d';\n  }\n\n  getNodeLabel(node) {\n    // Truncate long names\n    const maxLength = 12;\n    if (node.name.length > maxLength) {\n      return `${node.name.substring(0, maxLength - 3) }...`;\n    }\n    return node.name;\n  }\n\n  updateVisualization() {\n    if (!this.nodeElements || !this.linkElements) return;\n\n    // Filter nodes\n    const visibleNodes = this.nodes.filter(node => this.isNodeVisible(node));\n    const visibleNodeIds = new Set(visibleNodes.map(n => n.id));\n\n    // Filter links\n    const visibleLinks = this.currentFilters.showDependencies\n      ? this.links.filter(link =>\n        visibleNodeIds.has(link.source.id || link.source) &&\n                visibleNodeIds.has(link.target.id || link.target),\n      )\n      : [];\n\n    // Update node visibility\n    this.nodeElements\n      .style('opacity', d => this.isNodeVisible(d) ? 1 : 0.1)\n      .style('pointer-events', d => this.isNodeVisible(d) ? 'all' : 'none');\n\n    // Update link visibility\n    this.linkElements\n      .style('opacity', d => {\n        const sourceVisible = visibleNodeIds.has(d.source.id || d.source);\n        const targetVisible = visibleNodeIds.has(d.target.id || d.target);\n        return (sourceVisible && targetVisible && this.currentFilters.showDependencies) ? 0.6 : 0;\n      });\n\n    // Update label visibility\n    this.labelElements\n      .style('opacity', d => this.isNodeVisible(d) ? 1 : 0.1);\n\n    // Update simulation\n    this.simulation.nodes(visibleNodes);\n    this.simulation.force('link').links(visibleLinks);\n    this.simulation.alpha(0.3).restart();\n  }\n\n  isNodeVisible(node) {\n    // Category filter\n    if (!this.currentFilters.categories.has(node.category)) {\n      return false;\n    }\n\n    // Level filter\n    if (!this.currentFilters.levels.has(node.recommendedLevel)) {\n      return false;\n    }\n\n    // Search filter\n    if (this.currentFilters.searchTerm &&\n            !node.name.toLowerCase().includes(this.currentFilters.searchTerm)) {\n      return false;\n    }\n\n    return true;\n  }\n\n  ticked() {\n    if (this.linkElements) {\n      this.linkElements\n        .attr('x1', d => d.source.x)\n        .attr('y1', d => d.source.y)\n        .attr('x2', d => d.target.x)\n        .attr('y2', d => d.target.y);\n    }\n\n    if (this.nodeElements) {\n      this.nodeElements\n        .attr('cx', d => d.x)\n        .attr('cy', d => d.y);\n    }\n\n    if (this.labelElements) {\n      this.labelElements\n        .attr('x', d => d.x)\n        .attr('y', d => d.y);\n    }\n  }\n\n  dragStarted(event, d) {\n    if (!event.active) this.simulation.alphaTarget(0.3).restart();\n    d.fx = d.x;\n    d.fy = d.y;\n  }\n\n  dragged(event, d) {\n    d.fx = event.x;\n    d.fy = event.y;\n  }\n\n  dragEnded(event, d) {\n    if (!event.active) this.simulation.alphaTarget(0);\n    d.fx = null;\n    d.fy = null;\n  }\n\n  handleMouseOver(event, d) {\n    // Highlight connected nodes and links\n    this.highlightConnectedElements(d);\n\n    // Show enhanced tooltip\n    this.showEnhancedTooltip(event, d);\n\n    // Add hover effect\n    d3.select(event.currentTarget)\n      .attr('stroke-width', 3)\n      .attr('stroke', '#ffc107')\n      .attr('filter', 'url(#glow)');\n  }\n\n  handleMouseOut(event, d) {\n    // Remove highlights\n    this.clearHighlights();\n\n    // Hide tooltip\n    this.hideTooltip();\n\n    // Remove hover effect\n    d3.select(event.currentTarget)\n      .attr('stroke-width', 2)\n      .attr('stroke', '#fff')\n      .attr('filter', null);\n  }\n\n  highlightConnectedElements(node) {\n    // Highlight connected links\n    this.linkElements\n      .style('stroke-width', link =>\n        (link.source.id === node.id || link.target.id === node.id) ? 4 : 1.5,\n      )\n      .style('stroke-opacity', link =>\n        (link.source.id === node.id || link.target.id === node.id) ? 1 : 0.3,\n      );\n\n    // Highlight connected nodes\n    this.nodeElements\n      .style('opacity', otherNode => {\n        const isConnected = this.links.some(link =>\n          (link.source.id === node.id && link.target.id === otherNode.id) ||\n                    (link.source.id === otherNode.id && link.target.id === node.id),\n        );\n        return isConnected ? 1 : 0.3;\n      });\n  }\n\n  showEnhancedTooltip(event, d) {\n    const tooltipContent = `\n            <div class=\"tooltip-content\">\n                <h4>${d.name}</h4>\n                <p><strong>Category:</strong> ${d.category}</p>\n                <p><strong>Recommended Level:</strong> ${d.recommendedLevel}</p>\n                ${d.effort ? `<p><strong>Effort:</strong> ${d.effort}/10</p>` : ''}\n                ${d.complexity ? `<p><strong>Complexity:</strong> ${d.complexity}/10</p>` : ''}\n                ${d.confidence ? `<p><strong>Confidence:</strong> ${d.confidence}%</p>` : ''}\n                <p><strong>Connections:</strong> ${this.getConnectionCount(d)}</p>\n            </div>\n        `;\n\n    this.tooltip\n      .html(tooltipContent)\n      .style('left', `${event.pageX + 10 }px`)\n      .style('top', `${event.pageY - 28 }px`)\n      .style('opacity', 1)\n      .style('max-width', '300px');\n  }\n\n  getConnectionCount(node) {\n    return this.links.filter(link =>\n      link.source.id === node.id || link.target.id === node.id,\n    ).length;\n  }\n\n  addZoomControls() {\n    const controls = d3.select('#visualization-controls')\n      .append('div')\n      .attr('class', 'zoom-controls')\n      .style('position', 'absolute')\n      .style('top', '10px')\n      .style('right', '10px')\n      .style('z-index', '1000');\n\n    controls.append('button')\n      .attr('class', 'btn btn-sm btn-outline-primary me-2')\n      .html('<i class=\"fas fa-plus\"></i>')\n      .on('click', () => {\n        this.svg.transition().duration(300).call(\n          this.zoom.scaleBy, 1.5,\n        );\n      });\n\n    controls.append('button')\n      .attr('class', 'btn btn-sm btn-outline-primary me-2')\n      .html('<i class=\"fas fa-minus\"></i>')\n      .on('click', () => {\n        this.svg.transition().duration(300).call(\n          this.zoom.scaleBy, 0.75,\n        );\n      });\n\n    controls.append('button')\n      .attr('class', 'btn btn-sm btn-outline-secondary')\n      .html('<i class=\"fas fa-sync-alt\"></i>')\n      .on('click', () => {\n        this.svg.transition().duration(300).call(\n          this.zoom.transform, d3.zoomIdentity,\n        );\n      });\n  }\n\n  nodeClicked(event, d) {\n    event.stopPropagation();\n    // Use the main app's showProcessDetails method instead of local implementation\n    if (window.seApp && typeof window.seApp.showProcessDetails === 'function') {\n      window.seApp.showProcessDetails(d.id);\n    }\n  }\n\n  showTooltip(event, d) {\n    const tooltip = this.tooltip;\n\n    tooltip.style('opacity', 1)\n      .html(`\n                <strong>${d.name}</strong><br/>\n                Level: <span class=\"level-badge level-${d.recommendedLevel}\">${d.recommendedLevel}</span><br/>\n                Effort: ${d.effort}/5<br/>\n                Confidence: ${Math.round(d.confidence * 100)}%\n            `)\n      .style('left', `${event.pageX + 10 }px`)\n      .style('top', `${event.pageY - 10 }px`);\n  }\n\n  hideTooltip() {\n    this.tooltip.style('opacity', 0);\n  }\n\n  toggleLabels(show) {\n    if (this.labelElements) {\n      this.labelElements.style('opacity', show ? 1 : 0);\n    }\n  }\n\n  changeLayout(layout) {\n    if (!this.simulation) return;\n\n    switch (layout) {\n      case 'circular':\n        this.applyCircularLayout();\n        break;\n      case 'hierarchical':\n        this.applyHierarchicalLayout();\n        break;\n      default:\n        this.applyForceLayout();\n    }\n  }\n\n  applyCircularLayout() {\n    const centerX = this.width / 2;\n    const centerY = this.height / 2;\n    const radius = Math.min(this.width, this.height) / 3;\n\n    this.nodes.forEach((node, i) => {\n      const angle = (2 * Math.PI * i) / this.nodes.length;\n      node.fx = centerX + radius * Math.cos(angle);\n      node.fy = centerY + radius * Math.sin(angle);\n    });\n\n    this.simulation.alpha(0.3).restart();\n  }\n\n  applyHierarchicalLayout() {\n    const categories = ['technical_management', 'technical'];\n    const categoryHeight = this.height / categories.length;\n\n    categories.forEach((category, catIndex) => {\n      const categoryNodes = this.nodes.filter(n => n.category === category);\n      const nodeWidth = this.width / (categoryNodes.length + 1);\n\n      categoryNodes.forEach((node, nodeIndex) => {\n        node.fx = (nodeIndex + 1) * nodeWidth;\n        node.fy = (catIndex + 0.5) * categoryHeight;\n      });\n    });\n\n    this.simulation.alpha(0.3).restart();\n  }\n\n  applyForceLayout() {\n    this.nodes.forEach(node => {\n      node.fx = null;\n      node.fy = null;\n    });\n\n    this.simulation\n      .force('center', d3.forceCenter(this.width / 2, this.height / 2))\n      .alpha(0.3)\n      .restart();\n  }\n\n  resetFilters() {\n    this.currentFilters = {\n      categories: new Set(['technical_management', 'technical']),\n      levels: new Set(['basic', 'standard', 'comprehensive']),\n      showDependencies: true,\n      searchTerm: '',\n    };\n\n    // Reset UI controls\n    document.getElementById('process-search').value = '';\n    document.getElementById('filter-technical-mgmt').checked = true;\n    document.getElementById('filter-technical').checked = true;\n    document.getElementById('filter-basic').checked = true;\n    document.getElementById('filter-standard').checked = true;\n    document.getElementById('filter-comprehensive').checked = true;\n    document.getElementById('show-dependencies').checked = true;\n\n    this.updateVisualization();\n  }\n\n  zoomIn() {\n    this.svg.transition().call(this.zoom.scaleBy, 1.5);\n  }\n\n  zoomOut() {\n    this.svg.transition().call(this.zoom.scaleBy, 1 / 1.5);\n  }\n\n  resetView() {\n    this.svg.transition().call(this.zoom.transform, d3.zoomIdentity);\n  }\n\n  // Public methods\n  highlightProcess(processId) {\n    if (this.nodeElements) {\n      this.nodeElements\n        .style('stroke', d => d.id === processId ? '#ff6b6b' : '#fff')\n        .style('stroke-width', d => d.id === processId ? 4 : 2);\n    }\n  }\n\n  clearHighlights() {\n    if (this.nodeElements) {\n      this.nodeElements\n        .style('stroke', '#fff')\n        .style('stroke-width', 2);\n    }\n  }\n\n  setupEventListeners() {\n    // Setup zoom control event listeners\n    const zoomInBtn = document.getElementById('zoom-in-btn');\n    const zoomOutBtn = document.getElementById('zoom-out-btn');\n    const resetViewBtn = document.getElementById('reset-view-btn');\n\n    if (zoomInBtn) {\n      zoomInBtn.addEventListener('click', () => this.zoomIn());\n    }\n    if (zoomOutBtn) {\n      zoomOutBtn.addEventListener('click', () => this.zoomOut());\n    }\n    if (resetViewBtn) {\n      resetViewBtn.addEventListener('click', () => this.resetView());\n    }\n  }\n}\n\n// Export for global access\nwindow.ProcessNetworkVisualizer = ProcessNetworkVisualizer;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * Main Application Controller for SE Process Tailoring Framework\n * Handles navigation, data loading, and view management\n */\n\n// Import component modules\nimport './components/assessment.js';\nimport './components/visualization.js';\nimport './components/recommendations.js';\nimport './components/export.js';\n\nclass SEFrameworkApp {\n  constructor() {\n    this.currentView = \"welcome\";\n    this.assessmentData = {};\n    this.processData = {};\n    this.questionData = {};\n    this.dependencyData = {};\n    this.recommendations = {};\n    this.assessmentEngine = null;\n    this.visualizer = null;\n    this.recommendationEngine = null;\n    this.exportManager = null;\n\n    // Assessment state\n    this.assessmentResponses = {};\n    this.assessmentScores = {\n      complexity: 0,\n      safety: 0,\n      scale: 0,\n      maturity: 0,\n      overall: 0,\n    };\n\n    this.init();\n  }\n\n  async init() {\n    try {\n      console.log(\"=== SE Framework App Initialization Started ===\");\n      this.showLoading();\n\n      // Check if required components are loaded\n      console.log(\"Step 1: Checking component availability:\", {\n        AssessmentEngine: typeof AssessmentEngine,\n        ProcessNetworkVisualizer: typeof ProcessNetworkVisualizer,\n        RecommendationEngine: typeof RecommendationEngine,\n        ExportManager: typeof ExportManager,\n      });\n\n      console.log(\"Step 2: Loading data...\");\n      await this.loadData();\n      console.log(\"Step 3: Data loaded successfully\");\n\n      console.log(\"Step 4: Setting up event listeners...\");\n      this.setupEventListeners();\n      console.log(\"Step 5: Event listeners setup complete\");\n\n      console.log(\"Step 6: Rendering welcome view...\");\n      this.renderWelcomeView();\n      console.log(\"Step 7: Welcome view rendered\");\n\n      console.log(\"Step 8: About to hide loading overlay...\");\n      this.hideLoading();\n      console.log(\"Step 9: Loading overlay hidden\");\n\n      console.log(\"=== App Initialized Successfully ===\");\n    } catch (error) {\n      console.error(\"=== App Initialization Failed ===\", error);\n      console.error(\"Error details:\", error.stack);\n      this.showError(\n        `Failed to load application data: ${error.message}. Please refresh the page.`,\n      );\n      this.hideLoading();\n    }\n  }\n\n  async loadData() {\n    try {\n      console.log(\"Starting data loading...\");\n\n      // Load data files sequentially for better error handling\n      const processesResponse = await fetch(\"data/processes.json\");\n      console.log(\"Processes response status:\", processesResponse.status);\n      if (!processesResponse.ok) {\n        throw new Error(\"Failed to load processes data\");\n      }\n      const processes = await processesResponse.json();\n\n      const questionsResponse = await fetch(\"data/questions.json\");\n      console.log(\"Questions response status:\", questionsResponse.status);\n      if (!questionsResponse.ok) {\n        throw new Error(\"Failed to load questions data\");\n      }\n      const questions = await questionsResponse.json();\n\n      const dependenciesResponse = await fetch(\"data/dependencies.json\");\n      console.log(\"Dependencies response status:\", dependenciesResponse.status);\n      if (!dependenciesResponse.ok) {\n        throw new Error(\"Failed to load dependencies data\");\n      }\n      const dependencies = await dependenciesResponse.json();\n\n      console.log(\"Data loaded successfully:\", {\n        processes: processes.processes ? processes.processes.length : 0,\n        questions: questions.assessmentCategories\n          ? questions.assessmentCategories.length\n          : 0,\n        dependencies: dependencies.dependencies\n          ? dependencies.dependencies.length\n          : 0,\n      });\n\n      this.processData = processes;\n      this.questionData = questions;\n      this.dependencyData = dependencies;\n\n      console.log(\"Step 2.5: Checking component classes...\");\n      // Check if component classes are available\n      const componentCheck = {\n        AssessmentEngine: typeof AssessmentEngine,\n        ProcessNetworkVisualizer: typeof ProcessNetworkVisualizer,\n        RecommendationEngine: typeof RecommendationEngine,\n        ExportManager: typeof ExportManager,\n      };\n      console.log(\"Component availability:\", componentCheck);\n\n      if (typeof AssessmentEngine === \"undefined\") {\n        throw new Error(\"AssessmentEngine class not loaded\");\n      }\n      if (typeof ProcessNetworkVisualizer === \"undefined\") {\n        throw new Error(\"ProcessNetworkVisualizer class not loaded\");\n      }\n      if (typeof RecommendationEngine === \"undefined\") {\n        throw new Error(\"RecommendationEngine class not loaded\");\n      }\n      if (typeof ExportManager === \"undefined\") {\n        throw new Error(\"ExportManager class not loaded\");\n      }\n\n      console.log(\"Step 2.6: Initializing components...\");\n      // Initialize components\n      this.assessmentEngine = new AssessmentEngine(this.questionData, this);\n      console.log(\"AssessmentEngine created\");\n\n      this.visualizer = new ProcessNetworkVisualizer(\n        this.processData,\n        this.dependencyData,\n        this,\n      );\n      console.log(\"ProcessNetworkVisualizer created\");\n\n      this.recommendationEngine = new RecommendationEngine(\n        this.processData,\n        this.dependencyData,\n        this,\n      );\n      console.log(\"RecommendationEngine created\");\n\n      this.exportManager = new ExportManager(this);\n      console.log(\"ExportManager created\");\n\n      console.log(\"Step 2.7: All components initialized successfully\");\n    } catch (error) {\n      console.error(\"Error loading data:\", error);\n      throw error;\n    }\n  }\n\n  setupEventListeners() {\n    try {\n      // Navigation\n      const brandLink = document.getElementById(\"brand-link\");\n      if (brandLink) {\n        brandLink.addEventListener(\"click\", (e) => {\n          e.preventDefault();\n          this.showView(\"welcome\");\n        });\n      }\n\n      const navWelcome = document.getElementById(\"nav-welcome\");\n      if (navWelcome) {\n        navWelcome.addEventListener(\"click\", (e) => {\n          e.preventDefault();\n          this.showView(\"welcome\");\n        });\n      }\n\n      const navAssessment = document.getElementById(\"nav-assessment\");\n      if (navAssessment) {\n        navAssessment.addEventListener(\"click\", (e) => {\n          e.preventDefault();\n          this.showView(\"assessment\");\n        });\n      }\n\n      const navVisualization = document.getElementById(\"nav-visualization\");\n      if (navVisualization) {\n        navVisualization.addEventListener(\"click\", (e) => {\n          e.preventDefault();\n          this.showView(\"visualization\");\n        });\n      }\n\n      const navRecommendations = document.getElementById(\"nav-recommendations\");\n      if (navRecommendations) {\n        navRecommendations.addEventListener(\"click\", (e) => {\n          e.preventDefault();\n          this.showView(\"recommendations\");\n        });\n      }\n\n      const navExport = document.getElementById(\"nav-export\");\n      if (navExport) {\n        navExport.addEventListener(\"click\", (e) => {\n          e.preventDefault();\n          this.showView(\"export\");\n        });\n      }\n\n      // Start assessment button\n      const startAssessmentBtn = document.getElementById(\n        \"start-assessment-btn\",\n      );\n      if (startAssessmentBtn) {\n        startAssessmentBtn.addEventListener(\"click\", () => {\n          this.showView(\"assessment\");\n        });\n      }\n    } catch (error) {\n      console.error(\"Error setting up event listeners:\", error);\n    }\n\n    // Keyboard navigation\n    document.addEventListener(\"keydown\", (e) => {\n      if (e.ctrlKey || e.metaKey) {\n        switch (e.key) {\n          case \"1\":\n            e.preventDefault();\n            this.showView(\"welcome\");\n            break;\n          case \"2\":\n            e.preventDefault();\n            this.showView(\"assessment\");\n            break;\n          case \"3\":\n            e.preventDefault();\n            this.showView(\"visualization\");\n            break;\n          case \"4\":\n            e.preventDefault();\n            this.showView(\"recommendations\");\n            break;\n          case \"5\":\n            e.preventDefault();\n            this.showView(\"export\");\n            break;\n        }\n      }\n    });\n  }\n\n  showView(viewName) {\n    console.log(`=== showView called with: ${viewName} ===`);\n    try {\n      console.log(`Step 1: Hiding all views...`);\n      // Hide all views\n      const allViews = document.querySelectorAll(\".view-container\");\n      console.log(`Found ${allViews.length} view containers`);\n      allViews.forEach((view) => {\n        view.style.display = \"none\";\n      });\n\n      console.log(`Step 2: Updating navigation...`);\n      // Update navigation\n      const allNavLinks = document.querySelectorAll(\".nav-link\");\n      console.log(`Found ${allNavLinks.length} nav links`);\n      allNavLinks.forEach((link) => {\n        link.classList.remove(\"active\");\n      });\n\n      console.log(`Step 3: Showing target view: ${viewName}-view`);\n      // Show selected view\n      const targetView = document.getElementById(`${viewName}-view`);\n      console.log(`Target view element:`, targetView);\n\n      if (targetView) {\n        targetView.style.display = \"block\";\n        console.log(`Step 3a: Target view displayed`);\n\n        // Activate corresponding nav link\n        const navLink = document.getElementById(`nav-${viewName}`);\n        console.log(`Nav link element:`, navLink);\n        if (navLink) {\n          navLink.classList.add(\"active\");\n          console.log(`Step 3b: Nav link activated`);\n        }\n\n        this.currentView = viewName;\n        console.log(`Step 3c: Current view set to ${viewName}`);\n\n        console.log(`Step 4: Initializing view-specific content...`);\n        // Initialize view-specific content\n        switch (viewName) {\n          case \"assessment\":\n            this.renderAssessmentView();\n            break;\n          case \"visualization\":\n            this.renderVisualizationView();\n            break;\n          case \"recommendations\":\n            this.renderRecommendationsView();\n            break;\n          case \"export\":\n            this.renderExportView();\n            break;\n        }\n        console.log(`Step 4a: View-specific content initialized`);\n\n        console.log(`Step 5: Updating progress indicator...`);\n        // Update progress indicator\n        this.updateProgressIndicator();\n        console.log(`Step 5a: Progress indicator updated`);\n\n        // Scroll to top\n        window.scrollTo(0, 0);\n        console.log(`Step 6: Scrolled to top`);\n\n        console.log(`=== View ${viewName} shown successfully ===`);\n      } else {\n        console.error(`View ${viewName} not found`);\n        console.error(\n          `Available views:`,\n          Array.from(document.querySelectorAll('[id$=\"-view\"]')).map(\n            (el) => el.id,\n          ),\n        );\n      }\n    } catch (error) {\n      console.error(`Error showing view ${viewName}:`, error);\n      console.error(`Error stack:`, error.stack);\n    }\n  }\n\n  renderWelcomeView() {\n    console.log(\"Rendering welcome view...\");\n    try {\n      // Welcome view is static HTML, just ensure it's visible\n      this.showView(\"welcome\");\n      console.log(\"Welcome view rendered successfully\");\n    } catch (error) {\n      console.error(\"Error rendering welcome view:\", error);\n      // Fallback: manually show welcome view\n      const welcomeView = document.getElementById(\"welcome-view\");\n      if (welcomeView) {\n        welcomeView.style.display = \"block\";\n      }\n    }\n  }\n\n  renderAssessmentView() {\n    if (this.assessmentEngine) {\n      this.assessmentEngine.render();\n      this.showProgressIndicator();\n    }\n  }\n\n  renderVisualizationView() {\n    if (this.visualizer) {\n      // Small delay to ensure container is visible before rendering\n      setTimeout(() => {\n        this.visualizer.render();\n      }, 100);\n    }\n  }\n\n  renderRecommendationsView() {\n    if (this.recommendationEngine) {\n      this.recommendationEngine.render();\n    }\n  }\n\n  renderExportView() {\n    if (this.exportManager) {\n      this.exportManager.render();\n    }\n  }\n\n  updateProgressIndicator() {\n    const progressContainer = document.getElementById(\"progress-container\");\n    const progressBar = document.getElementById(\"overall-progress\");\n    const progressText = document.getElementById(\"progress-text\");\n\n    if (this.currentView === \"welcome\") {\n      progressContainer.style.display = \"none\";\n      return;\n    }\n\n    // Calculate overall progress\n    let progress = 0;\n    switch (this.currentView) {\n      case \"assessment\":\n        progress = this.getAssessmentProgress();\n        break;\n      case \"visualization\":\n        progress = this.hasCompletedAssessment() ? 75 : 25;\n        break;\n      case \"recommendations\":\n        progress = this.hasCompletedAssessment() ? 90 : 50;\n        break;\n      case \"export\":\n        progress = 100;\n        break;\n    }\n\n    progressContainer.style.display = \"block\";\n    progressBar.style.width = `${progress}%`;\n    progressText.textContent = `${Math.round(progress)}%`;\n  }\n\n  showProgressIndicator() {\n    document.getElementById(\"progress-container\").style.display = \"block\";\n  }\n\n  hideProgressIndicator() {\n    document.getElementById(\"progress-container\").style.display = \"none\";\n  }\n\n  getAssessmentProgress() {\n    if (!this.assessmentEngine) return 0;\n\n    const totalQuestions = this.getTotalQuestions();\n    const answeredQuestions = Object.keys(this.assessmentResponses).length;\n\n    return totalQuestions > 0\n      ? Math.min((answeredQuestions / totalQuestions) * 60, 60)\n      : 0;\n  }\n\n  getTotalQuestions() {\n    if (!this.questionData.assessmentCategories) return 0;\n\n    return this.questionData.assessmentCategories.reduce((total, category) => {\n      return total + (category.questions ? category.questions.length : 0);\n    }, 0);\n  }\n\n  hasCompletedAssessment() {\n    const totalQuestions = this.getTotalQuestions();\n    const answeredQuestions = Object.keys(this.assessmentResponses).length;\n    return answeredQuestions >= totalQuestions && totalQuestions > 0;\n  }\n\n  updateAssessmentResponse(questionId, response) {\n    this.assessmentResponses[questionId] = response;\n    this.calculateScores();\n    this.updateProgressIndicator();\n\n    // Auto-save to localStorage\n    this.saveAssessmentState();\n  }\n\n  calculateScores() {\n    if (!this.questionData.assessmentCategories) return;\n\n    const dimensionScores = {\n      complexity: [],\n      safety: [],\n      scale: [],\n      maturity: [],\n    };\n\n    // Calculate dimension scores based on responses\n    this.questionData.assessmentCategories.forEach((category) => {\n      category.questions.forEach((question) => {\n        const response = this.assessmentResponses[question.id];\n        if (response && response.score !== undefined) {\n          const dimension = question.dimension;\n          if (dimensionScores[dimension]) {\n            dimensionScores[dimension].push({\n              score: response.score,\n              weight: question.weight || 1,\n            });\n          }\n        }\n      });\n    });\n\n    // Calculate weighted averages for each dimension\n    Object.keys(dimensionScores).forEach((dimension) => {\n      const scores = dimensionScores[dimension];\n      if (scores.length > 0) {\n        const weightedSum = scores.reduce(\n          (sum, item) => sum + item.score * item.weight,\n          0,\n        );\n        const totalWeight = scores.reduce((sum, item) => sum + item.weight, 0);\n        this.assessmentScores[dimension] =\n          totalWeight > 0 ? weightedSum / totalWeight : 0;\n      }\n    });\n\n    // Calculate overall score (weighted average of dimensions)\n    const dimensionWeights = {\n      complexity: 0.3,\n      safety: 0.25,\n      scale: 0.25,\n      maturity: 0.2,\n    };\n\n    let overallScore = 0;\n    let totalWeight = 0;\n\n    Object.keys(dimensionWeights).forEach((dimension) => {\n      if (this.assessmentScores[dimension] > 0) {\n        overallScore +=\n          this.assessmentScores[dimension] * dimensionWeights[dimension];\n        totalWeight += dimensionWeights[dimension];\n      }\n    });\n\n    this.assessmentScores.overall =\n      totalWeight > 0 ? overallScore / totalWeight : 0;\n\n    // Generate recommendations if assessment is complete\n    if (this.hasCompletedAssessment() && this.recommendationEngine) {\n      this.recommendations = this.recommendationEngine.generateRecommendations(\n        this.assessmentScores,\n      );\n    }\n  }\n\n  saveAssessmentState() {\n    const state = {\n      responses: this.assessmentResponses,\n      scores: this.assessmentScores,\n      recommendations: this.recommendations,\n      timestamp: Date.now(),\n    };\n    localStorage.setItem(\"se-tailoring-assessment\", JSON.stringify(state));\n  }\n\n  loadAssessmentState() {\n    try {\n      const saved = localStorage.getItem(\"se-tailoring-assessment\");\n      if (saved) {\n        const state = JSON.parse(saved);\n\n        // Only load if saved within last 24 hours\n        const dayOld = 24 * 60 * 60 * 1000;\n        if (Date.now() - state.timestamp < dayOld) {\n          this.assessmentResponses = state.responses || {};\n          this.assessmentScores = state.scores || {};\n          this.recommendations = state.recommendations || {};\n          return true;\n        }\n      }\n    } catch (error) {\n      // Failed to load saved assessment state\n    }\n    return false;\n  }\n\n  clearAssessmentState() {\n    this.assessmentResponses = {};\n    this.assessmentScores = {\n      complexity: 0,\n      safety: 0,\n      scale: 0,\n      maturity: 0,\n      overall: 0,\n    };\n    this.recommendations = {};\n    localStorage.removeItem(\"se-tailoring-assessment\");\n    this.updateProgressIndicator();\n  }\n\n  showLoading() {\n    document.getElementById(\"loading-overlay\").style.display = \"flex\";\n  }\n\n  hideLoading() {\n    console.log(\"=== Hiding loading overlay ===\");\n    const loadingOverlay = document.getElementById(\"loading-overlay\");\n    console.log(\"Loading overlay element:\", loadingOverlay);\n\n    if (loadingOverlay) {\n      console.log(\"Current display style:\", loadingOverlay.style.display);\n      console.log(\n        \"Current computed style:\",\n        window.getComputedStyle(loadingOverlay).display,\n      );\n\n      // Try multiple approaches to hide it\n      loadingOverlay.style.display = \"none\";\n      loadingOverlay.style.visibility = \"hidden\";\n      loadingOverlay.style.opacity = \"0\";\n      loadingOverlay.style.pointerEvents = \"none\";\n\n      // Also add a class to ensure it stays hidden\n      loadingOverlay.classList.add(\"hidden\");\n\n      console.log(\"Loading overlay hidden with multiple methods\");\n      console.log(\"New display style:\", loadingOverlay.style.display);\n      console.log(\n        \"New computed style:\",\n        window.getComputedStyle(loadingOverlay).display,\n      );\n    } else {\n      console.warn(\"Loading overlay element not found\");\n      console.log(\n        \"Available elements with loading in ID:\",\n        Array.from(document.querySelectorAll('[id*=\"loading\"]')).map(\n          (el) => el.id,\n        ),\n      );\n    }\n    console.log(\"=== Loading overlay hide attempt complete ===\");\n  }\n\n  showError(message) {\n    console.error(\"Showing error:\", message);\n\n    // Create and show error alert\n    const alertHtml = `\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n                <i class=\"bi bi-exclamation-triangle-fill me-2\"></i>\n                <strong>Error:</strong> ${message}\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n            </div>\n        `;\n\n    // Insert at top of main content\n    const mainContent = document.getElementById(\"main-content\");\n    if (mainContent) {\n      mainContent.insertAdjacentHTML(\"afterbegin\", alertHtml);\n\n      // Auto-remove after 10 seconds\n      setTimeout(() => {\n        const alert = mainContent.querySelector(\".alert-danger\");\n        if (alert) {\n          try {\n            const bsAlert = new bootstrap.Alert(alert);\n            bsAlert.close();\n          } catch (e) {\n            // Fallback: just remove the element\n            alert.remove();\n          }\n        }\n      }, 10000);\n    } else {\n      console.error(\"Main content element not found for error display\");\n    }\n  }\n\n  showSuccess(message) {\n    // Create and show success alert\n    const alertHtml = `\n            <div class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n                <i class=\"bi bi-check-circle-fill me-2\"></i>\n                ${message}\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n            </div>\n        `;\n\n    // Insert at top of main content\n    const mainContent = document.getElementById(\"main-content\");\n    mainContent.insertAdjacentHTML(\"afterbegin\", alertHtml);\n\n    // Auto-remove after 5 seconds\n    setTimeout(() => {\n      const alert = mainContent.querySelector(\".alert-success\");\n      if (alert) {\n        const bsAlert = new bootstrap.Alert(alert);\n        bsAlert.close();\n      }\n    }, 5000);\n  }\n\n  // Utility methods\n  getProcessById(processId) {\n    return this.processData.processes?.find((p) => p.id === processId);\n  }\n\n  getDependenciesForProcess(processId) {\n    return (\n      this.dependencyData.dependencies?.filter((d) => d.source === processId) ||\n      []\n    );\n  }\n\n  getProcessesDependingOn(processId) {\n    return (\n      this.dependencyData.dependencies?.filter((d) => d.target === processId) ||\n      []\n    );\n  }\n\n  showProcessDetails(processId) {\n    const modal = document.getElementById('process-detail-modal');\n    const title = document.getElementById('process-modal-title');\n    const body = document.getElementById('process-modal-body');\n\n    if (!modal || !title || !body) {\n      console.error('Modal elements not found - check HTML structure');\n      return;\n    }\n\n    // Ensure modal is properly initialized in the DOM\n    if (!modal.classList.contains('modal')) {\n      console.error('Modal element is not properly initialized');\n      return;\n    }\n\n    const process = this.getProcessById(processId);\n    const recommendation = this.recommendations[processId];\n\n    if (!process) {\n      return;\n    }\n\n    const recommendedLevel = recommendation?.recommendedLevel || 'basic';\n    \n    title.textContent = process.name;\n\n    body.innerHTML = `\n            <div class=\"row\">\n                <div class=\"col-md-6\">\n                    <h6>Current Recommendation</h6>\n                    <span class=\"level-badge level-${recommendedLevel}\">${recommendedLevel}</span>\n                    <p class=\"mt-2 text-muted\">${process.description || 'No description available'}</p>\n                </div>\n                <div class=\"col-md-6\">\n                    <h6>Process Metrics</h6>\n                    <ul class=\"list-unstyled\">\n                        <li><strong>Effort:</strong> ${recommendation?.effort || 1}/5</li>\n                        <li><strong>Complexity:</strong> ${recommendation?.complexity || 1}/5</li>\n                        <li><strong>Confidence:</strong> ${Math.round((recommendation?.confidence || 0.8) * 100)}%</li>\n                        <li><strong>Category:</strong> ${this.processData.processCategories?.[process.category] || process.category}</li>\n                    </ul>\n                </div>\n            </div>\n\n            ${recommendation?.rationale ? `\n                <div class=\"mt-3\">\n                    <h6>Rationale</h6>\n                    <ul class=\"list-unstyled\">\n                        ${recommendation.rationale.map(reason => `<li class=\"text-muted\">• ${reason}</li>`).join('')}\n                    </ul>\n                </div>\n            ` : ''}\n\n            ${process?.tailoringLevels ? `\n                <div class=\"mt-3\">\n                    <h6>Available Tailoring Levels</h6>\n                    <div class=\"accordion\" id=\"levels-accordion\">\n                        ${Object.keys(process.tailoringLevels).map((level, index) => `\n                            <div class=\"accordion-item\">\n                                <h2 class=\"accordion-header\">\n                                    <button class=\"accordion-button ${level !== recommendedLevel ? 'collapsed' : ''}\" \n                                            type=\"button\" data-bs-toggle=\"collapse\" \n                                            data-bs-target=\"#level-${level}\">\n                                        <span class=\"level-badge level-${level} me-2\">${level}</span>\n                                        ${process.tailoringLevels[level].description}\n                                    </button>\n                                </h2>\n                                <div id=\"level-${level}\" \n                                     class=\"accordion-collapse collapse ${level === recommendedLevel ? 'show' : ''}\"\n                                     data-bs-parent=\"#levels-accordion\">\n                                    <div class=\"accordion-body\">\n                                        <p><strong>Activities:</strong></p>\n                                        <ul>\n                                            ${process.tailoringLevels[level].activities?.map(activity => `<li>${activity}</li>`).join('') || '<li>No activities specified</li>'}\n                                        </ul>\n                                        <p><strong>Key Outputs:</strong></p>\n                                        <ul>\n                                            ${process.tailoringLevels[level].outputs?.map(output => `<li>${output}</li>`).join('') || '<li>No outputs specified</li>'}\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                        `).join('')}\n                    </div>\n                </div>\n            ` : ''}\n        `;\n\n    // Ensure Bootstrap is available\n    if (typeof bootstrap === 'undefined') {\n      console.error('Bootstrap not available');\n      return;\n    }\n\n    try {\n      const bsModal = new bootstrap.Modal(modal);\n      bsModal.show();\n      console.log('Modal shown successfully for process:', processId);\n      \n      // Debug: Check modal state after showing\n      setTimeout(() => {\n        console.log('=== MODAL DEBUG INFO ===');\n        console.log('Modal display:', modal.style.display);\n        console.log('Modal classes:', modal.className);\n        console.log('Modal visibility:', modal.offsetParent !== null);\n        \n        // Check if backdrop exists\n        const backdrops = document.querySelectorAll('.modal-backdrop');\n        console.log('Backdrops found:', backdrops.length);\n        \n        // Check z-index issues\n        console.log('Modal z-index:', modal.style.zIndex);\n        console.log('Modal computed z-index:', window.getComputedStyle(modal).zIndex);\n        \n        // Check if modal is actually visible\n        const rect = modal.getBoundingClientRect();\n        console.log('Modal position:', rect.top, rect.left, rect.width, rect.height);\n        console.log('Modal in viewport:', rect.top >= 0 && rect.left >= 0 && \n          rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && \n          rect.right <= (window.innerWidth || document.documentElement.clientWidth));\n        \n        // Check if any parent elements are hidden\n        let current = modal;\n        const hiddenParents = [];\n        while (current.parentElement) {\n          current = current.parentElement;\n          const style = window.getComputedStyle(current);\n          if (style.display === 'none' || style.visibility === 'hidden' || style.opacity === '0') {\n            hiddenParents.push(current);\n          }\n        }\n        console.log('Hidden parents:', hiddenParents.length, hiddenParents);\n        \n        // Force modal to be visible if hidden - check all possible hiding conditions\n        const computedStyle = window.getComputedStyle(modal);\n        if (modal.offsetParent === null || \n            rect.width === 0 || \n            rect.height === 0 ||\n            computedStyle.display === 'none' ||\n            computedStyle.visibility === 'hidden' ||\n            computedStyle.opacity === '0') {\n          \n          console.log('Modal appears hidden - forcing visibility');\n          \n          // Remove from DOM and re-append to ensure proper positioning\n          const parent = modal.parentElement;\n          parent.removeChild(modal);\n          document.body.appendChild(modal);\n          \n          // Force visible styles\n          modal.style.display = 'block';\n          modal.style.visibility = 'visible';\n          modal.style.opacity = '1';\n          modal.style.zIndex = '1050';\n          modal.style.position = 'fixed';\n          modal.style.top = '50%';\n          modal.style.left = '50%';\n          modal.style.transform = 'translate(-50%, -50%)';\n          \n          // Ensure backdrop is properly positioned\n          const backdrops = document.querySelectorAll('.modal-backdrop');\n          backdrops.forEach(backdrop => {\n            backdrop.style.zIndex = '1040';\n          });\n        }\n        \n        console.log('=== END DEBUG ===');\n      }, 100);\n      \n    } catch (error) {\n      console.error('Failed to show modal:', error);\n      // Fallback: manually show the modal if Bootstrap fails\n      modal.style.display = 'block';\n      modal.classList.add('show');\n      document.body.classList.add('modal-open');\n      \n      // Create backdrop manually\n      const backdrop = document.createElement('div');\n      backdrop.className = 'modal-backdrop fade show';\n      backdrop.style.zIndex = '1040';\n      document.body.appendChild(backdrop);\n      \n      // Ensure modal has proper z-index\n      modal.style.zIndex = '1050';\n    }\n  }\n\n  // Public API for components\n  getAssessmentData() {\n    return {\n      responses: this.assessmentResponses,\n      scores: this.assessmentScores,\n      recommendations: this.recommendations,\n    };\n  }\n\n  getProcessData() {\n    return this.processData;\n  }\n\n  getDependencyData() {\n    return this.dependencyData;\n  }\n}\n\n// Initialize application when DOM is loaded\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  console.log(\"DOM loaded, initializing app...\");\n\n  // Failsafe: Hide loading screen after 10 seconds regardless of what happens\n  const failsafeTimeout = setTimeout(() => {\n    console.warn(\"Failsafe timeout reached - hiding loading screen\");\n    forceHideLoadingOverlay();\n  }, 10000);\n\n  // Wait a bit to ensure all scripts are loaded\n  setTimeout(() => {\n    try {\n      // Check if all required components are available\n      const requiredComponents = [\n        \"AssessmentEngine\",\n        \"ProcessNetworkVisualizer\",\n        \"RecommendationEngine\",\n        \"ExportManager\",\n      ];\n\n      const missingComponents = requiredComponents.filter(\n        (comp) => typeof window[comp] === \"undefined\",\n      );\n\n      if (missingComponents.length > 0) {\n        console.error(\"Missing components:\", missingComponents);\n        throw new Error(\n          `Required components not loaded: ${missingComponents.join(\", \")}`,\n        );\n      }\n\n      console.log(\"All components available, initializing app...\");\n      window.seApp = new SEFrameworkApp();\n\n      // Clear failsafe timeout if app initializes successfully\n      clearTimeout(failsafeTimeout);\n\n      // Additional failsafe: Force hide loading overlay after successful initialization\n      setTimeout(() => {\n        console.log(\"Additional failsafe: Forcing loading overlay to hide\");\n        forceHideLoadingOverlay();\n      }, 1000);\n    } catch (error) {\n      console.error(\"Failed to initialize app:\", error);\n\n      // Clear failsafe timeout since we're handling the error\n      clearTimeout(failsafeTimeout);\n\n      // Show error to user\n      const loadingOverlay = document.getElementById(\"loading-overlay\");\n      if (loadingOverlay) {\n        loadingOverlay.innerHTML = `\n                    <div class=\"text-center text-white\">\n                        <div class=\"spinner-border mb-3\" role=\"status\">\n                            <span class=\"visually-hidden\">Loading...</span>\n                        </div>\n                        <p class=\"text-danger\">Failed to initialize application</p>\n                        <p class=\"small\">${error.message}</p>\n                        <button class=\"btn btn-outline-light\" onclick=\"window.location.reload()\">Retry</button>\n                    </div>\n                `;\n      }\n    }\n  }, 100); // Small delay to ensure scripts are loaded\n});\n\n// Aggressive function to hide loading overlay\nfunction forceHideLoadingOverlay() {\n  console.log(\"=== Force hiding loading overlay ===\");\n\n  // Try multiple selectors\n  const selectors = [\n    \"#loading-overlay\",\n    \".loading-overlay\",\n    '[id*=\"loading\"]',\n    \".position-fixed.top-0.start-0.w-100.h-100\",\n  ];\n\n  selectors.forEach((selector) => {\n    try {\n      const elements = document.querySelectorAll(selector);\n      elements.forEach((element) => {\n        console.log(`Hiding element with selector: ${selector}`);\n        element.style.display = \"none\";\n        element.style.visibility = \"hidden\";\n        element.style.opacity = \"0\";\n        element.style.pointerEvents = \"none\";\n        element.classList.add(\"hidden\");\n        element.setAttribute(\"hidden\", \"\");\n      });\n    } catch (error) {\n      console.warn(`Error hiding elements with selector ${selector}:`, error);\n    }\n  });\n\n  // Also try to remove the loading overlay completely\n  try {\n    const loadingOverlay = document.getElementById(\"loading-overlay\");\n    if (loadingOverlay && loadingOverlay.parentNode) {\n      console.log(\"Removing loading overlay from DOM\");\n      loadingOverlay.parentNode.removeChild(loadingOverlay);\n    }\n  } catch (error) {\n    console.warn(\"Error removing loading overlay from DOM:\", error);\n  }\n\n  console.log(\"=== Force hide complete ===\");\n}\n\n// Handle browser back/forward buttons\nwindow.addEventListener(\"popstate\", (event) => {\n  if (window.seApp && event.state) {\n    window.seApp.showView(event.state.view);\n  }\n});\n\n// Export for global access\nwindow.SEFrameworkApp = SEFrameworkApp;\n"],"names":["window","ExportManager","constructor","app","this","render","container","document","getElementById","assessmentData","getAssessmentData","recommendations","Object","keys","length","renderExportOptions","renderNoData","innerHTML","stats","calculateExportStats","totalProcesses","totalQuestions","categories","averageConfidence","totalEffort","dependencies","attachExportEventListeners","responses","Set","values","map","r","dimension","size","confidenceValues","confidence","Math","round","reduce","sum","c","effort","addEventListener","exportPDF","exportJSON","exportExcel","querySelectorAll","forEach","option","e","target","closest","button","querySelector","click","getExportOptions","includeAssessmentDetails","checked","includeRationale","includeDependencies","includeVisualization","includeMetadata","includeImplementationGuide","showExportProgress","options","jsPDF","jspdf","doc","yPosition","pageHeight","internal","pageSize","height","marginBottom","checkNewPage","neededSpace","addPage","setFontSize","setTextColor","text","Date","toLocaleDateString","scores","overall","toFixed","complexity","safety","scale","maturity","line","levelCounts","getLevelCounts","basic","standard","comprehensive","grouped","groupRecommendationsByCategory","category","categoryName","processData","processCategories","process","processLine","processName","recommendedLevel","toUpperCase","rationale","slice","reason","reasonText","splitTextToSize","item","questionData","assessmentCategories","name","questions","question","response","id","label","score","toISOString","fileName","split","save","hideExportProgress","showSuccess","error","showError","exportData","metadata","generatedAt","version","frameworkVersion","assessmentScores","assessmentResponses","getDependencyData","getProcessData","jsonString","JSON","stringify","blob","Blob","type","url","URL","createObjectURL","a","createElement","href","download","body","appendChild","removeChild","revokeObjectURL","csvContent","rec","join","questionId","message","loadingHtml","insertAdjacentHTML","overlay","remove","counts","push","sort","b","localeCompare","AssessmentEngine","currentCategoryIndex","currentQuestionIndex","assessmentContainer","renderAssessmentInterface","renderProgressBar","renderCurrentQuestion","renderNavigation","renderNoQuestions","progressContainer","className","getTotalQuestions","answeredQuestions","progressPercentage","getCurrentCategory","getCurrentQuestion","renderAssessmentComplete","questionCard","getDimensionBadge","renderResponseOptions","description","currentResponse","currentValue","value","existingNav","navContainer","currentQuestion","hasAnswered","isLastQuestion","calculateScores","selectResponse","updateAssessmentResponse","updateResponseButtons","selectedScore","parseInt","getAttribute","classList","add","nextQuestion","currentCategory","previousQuestion","prevCategory","total","lastCategoryIndex","lastCategory","resetAssessment","RecommendationEngine","dependencyData","generateRecommendations","processes","calculateProcessLevel","applyDependencyConstraints","applyProcessConstraints","calculateConfidenceScores","baseScore","calculateBaseScore","level","processId","generateRationale","tailoringLevels","activities","outputs","constraints","weights","getProcessWeights","weightedScore","totalWeight","undefined","changed","iterations","dep","sourceRec","source","targetRec","sourceLevel","getLevelValue","requiredTargetLevel","targetLevel","currentTargetLevel","newLevel","find","p","targetName","requiredLevel","constraint","evaluateConstraintCondition","condition","match","operator","threshold","thresholdValue","parseFloat","abs","filter","s","max","min","dim","weight","factor","impact","getScoreImpact","getDimensionName","renderRecommendations","renderNoRecommendations","groupedRecs","calculateSummaryStats","html","renderCategorySection","attachRecommendationEventListeners","getCategoryIcon","renderProcessCard","levelClass","confidencePercent","recs","getRecommendations","getProcessRecommendation","ProcessNetworkVisualizer","svg","simulation","nodes","links","width","zoom","currentFilters","levels","showDependencies","showMetrics","showRecommendations","searchTerm","layoutSettings","chargeStrength","linkStrength","setupContainer","renderControls","prepareData","createVisualization","setupEventListeners","rect","getBoundingClientRect","controlsContainer","attachControlEventListeners","searchInput","toLowerCase","updateVisualization","checkbox","categoryKey","delete","showDepsCheckbox","showLabelsCheckbox","toggleLabels","layoutSelect","changeLayout","chargeSlider","chargeValue","textContent","updateForceLayout","linkSlider","linkValue","showMetricsCheckbox","showRecsCheckbox","exportBtn","exportNetwork","helpBtn","showHelpModal","resetBtn","resetFilters","force","d3","forceManyBody","strength","forceLink","alpha","restart","svgElement","node","svgWithNamespace","XMLSerializer","serializeToString","replace","existingModal","bootstrap","Modal","show","recommendation","x","random","y","select","append","attr","style","scaleExtent","translateExtent","on","event","transform","call","zoomIdentity","zoomContainer","defs","color","forceSimulation","d","distance","forceCenter","forceCollide","radius","forceX","forceY","linkElements","selectAll","data","enter","dependency","information","sequential","nodeElements","getNodeColor","drag","dragStarted","dragged","dragEnded","showTooltip","hideTooltip","nodeClicked","labelElements","getNodeLabel","metricElements","metrics","tooltip","ticked","substring","maxLength","visibleNodes","isNodeVisible","visibleNodeIds","n","visibleLinks","link","has","sourceVisible","targetVisible","includes","active","alphaTarget","fx","fy","handleMouseOver","highlightConnectedElements","showEnhancedTooltip","currentTarget","handleMouseOut","clearHighlights","otherNode","some","tooltipContent","getConnectionCount","pageX","pageY","addZoomControls","controls","transition","duration","scaleBy","stopPropagation","seApp","showProcessDetails","layout","applyCircularLayout","applyHierarchicalLayout","applyForceLayout","centerX","centerY","i","angle","PI","cos","sin","categoryHeight","catIndex","categoryNodes","nodeWidth","nodeIndex","zoomIn","zoomOut","resetView","highlightProcess","zoomInBtn","zoomOutBtn","resetViewBtn","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","getter","__esModule","definition","key","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","SEFrameworkApp","currentView","assessmentEngine","visualizer","recommendationEngine","exportManager","init","console","log","showLoading","loadData","renderWelcomeView","hideLoading","stack","processesResponse","fetch","status","ok","Error","json","questionsResponse","dependenciesResponse","componentCheck","brandLink","preventDefault","showView","navWelcome","navAssessment","navVisualization","navRecommendations","navExport","startAssessmentBtn","ctrlKey","metaKey","viewName","allViews","view","display","allNavLinks","targetView","navLink","renderAssessmentView","renderVisualizationView","renderRecommendationsView","renderExportView","updateProgressIndicator","scrollTo","Array","from","el","welcomeView","showProgressIndicator","setTimeout","progressBar","progressText","progress","getAssessmentProgress","hasCompletedAssessment","hideProgressIndicator","saveAssessmentState","dimensionScores","weightedSum","dimensionWeights","overallScore","state","timestamp","now","localStorage","setItem","loadAssessmentState","saved","getItem","parse","dayOld","clearAssessmentState","removeItem","loadingOverlay","getComputedStyle","visibility","opacity","pointerEvents","warn","alertHtml","mainContent","alert","Alert","close","getProcessById","getDependenciesForProcess","getProcessesDependingOn","modal","title","contains","index","activity","output","offsetParent","backdrops","zIndex","top","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","current","hiddenParents","parentElement","computedStyle","position","backdrop","forceHideLoadingOverlay","selector","element","setAttribute","parentNode","failsafeTimeout","missingComponents","comp","clearTimeout"],"sourceRoot":""}